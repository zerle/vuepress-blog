<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webpack--基础篇 | 张垒的博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="记录好的技术文档">
    
    <link rel="preload" href="/vuepress-blog/assets/css/0.styles.3d11a1f1.css" as="style"><link rel="preload" href="/vuepress-blog/assets/js/app.cfe4f1dc.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/7.a84a24ff.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/2.c3a99807.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/1.c178cf32.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/67.45bf8f7c.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/js/10.7e8e7b1e.js"><link rel="prefetch" href="/vuepress-blog/assets/js/11.52366231.js"><link rel="prefetch" href="/vuepress-blog/assets/js/14.8efccace.js"><link rel="prefetch" href="/vuepress-blog/assets/js/15.acd8f527.js"><link rel="prefetch" href="/vuepress-blog/assets/js/16.696abc55.js"><link rel="prefetch" href="/vuepress-blog/assets/js/17.83830d6d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/18.02b980f1.js"><link rel="prefetch" href="/vuepress-blog/assets/js/19.68f440c9.js"><link rel="prefetch" href="/vuepress-blog/assets/js/20.0a9cda66.js"><link rel="prefetch" href="/vuepress-blog/assets/js/21.7edb07fe.js"><link rel="prefetch" href="/vuepress-blog/assets/js/22.f567e8c0.js"><link rel="prefetch" href="/vuepress-blog/assets/js/23.2884f722.js"><link rel="prefetch" href="/vuepress-blog/assets/js/24.d348a5d9.js"><link rel="prefetch" href="/vuepress-blog/assets/js/25.ec080050.js"><link rel="prefetch" href="/vuepress-blog/assets/js/26.69adbacd.js"><link rel="prefetch" href="/vuepress-blog/assets/js/27.e94edaee.js"><link rel="prefetch" href="/vuepress-blog/assets/js/28.fa2c3683.js"><link rel="prefetch" href="/vuepress-blog/assets/js/29.480e11e4.js"><link rel="prefetch" href="/vuepress-blog/assets/js/3.83b8031d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/30.9e44a369.js"><link rel="prefetch" href="/vuepress-blog/assets/js/31.ab5be7a3.js"><link rel="prefetch" href="/vuepress-blog/assets/js/32.fd74f8d8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/33.cf91586c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/34.57e43fc1.js"><link rel="prefetch" href="/vuepress-blog/assets/js/35.f12bb5f8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/36.0505d053.js"><link rel="prefetch" href="/vuepress-blog/assets/js/37.128579b6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/38.afd14854.js"><link rel="prefetch" href="/vuepress-blog/assets/js/39.136c8139.js"><link rel="prefetch" href="/vuepress-blog/assets/js/4.d9f667de.js"><link rel="prefetch" href="/vuepress-blog/assets/js/40.4702d49e.js"><link rel="prefetch" href="/vuepress-blog/assets/js/41.c2c28470.js"><link rel="prefetch" href="/vuepress-blog/assets/js/42.2fc7c472.js"><link rel="prefetch" href="/vuepress-blog/assets/js/43.9b307549.js"><link rel="prefetch" href="/vuepress-blog/assets/js/44.ef443176.js"><link rel="prefetch" href="/vuepress-blog/assets/js/45.a7c60c22.js"><link rel="prefetch" href="/vuepress-blog/assets/js/46.466967ef.js"><link rel="prefetch" href="/vuepress-blog/assets/js/47.48816b2e.js"><link rel="prefetch" href="/vuepress-blog/assets/js/48.cbbfa44c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/49.b362bf6d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/5.3df9e6ac.js"><link rel="prefetch" href="/vuepress-blog/assets/js/50.7605d1cc.js"><link rel="prefetch" href="/vuepress-blog/assets/js/51.35192135.js"><link rel="prefetch" href="/vuepress-blog/assets/js/52.bf567756.js"><link rel="prefetch" href="/vuepress-blog/assets/js/53.b0768c7b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/54.9735e1f7.js"><link rel="prefetch" href="/vuepress-blog/assets/js/55.84021d4c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/56.e4771e7e.js"><link rel="prefetch" href="/vuepress-blog/assets/js/57.7c72619d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/58.f8487d5b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/59.c97f0f0e.js"><link rel="prefetch" href="/vuepress-blog/assets/js/6.5940db39.js"><link rel="prefetch" href="/vuepress-blog/assets/js/60.0cb291f7.js"><link rel="prefetch" href="/vuepress-blog/assets/js/61.2405fff4.js"><link rel="prefetch" href="/vuepress-blog/assets/js/62.a854dc11.js"><link rel="prefetch" href="/vuepress-blog/assets/js/63.13eb262f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/64.cb4d6ac7.js"><link rel="prefetch" href="/vuepress-blog/assets/js/65.6e7515c4.js"><link rel="prefetch" href="/vuepress-blog/assets/js/66.7db29015.js"><link rel="prefetch" href="/vuepress-blog/assets/js/68.b604b4f6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/69.8e28194e.js"><link rel="prefetch" href="/vuepress-blog/assets/js/70.6c3a479b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/71.b1ddb05f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/8.f2a8d12d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/9.0b4a9f34.js"><link rel="prefetch" href="/vuepress-blog/assets/js/vendors~docsearch.5bf76089.js">
    <link rel="stylesheet" href="/vuepress-blog/assets/css/0.styles.3d11a1f1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>张垒的博客</h3> <p class="description" data-v-59e6cb88>记录好的技术文档</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-blog/" class="home-link router-link-active"><!----> <span class="site-name">张垒的博客</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-blog/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-blog/categories/前端/" class="nav-link"><i class="undefined"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/categories/工具/" class="nav-link"><i class="undefined"></i>
  工具
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/categories/刷题/" class="nav-link"><i class="undefined"></i>
  刷题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      zhang lei 的博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/4495277269197975" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/zerle" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/vuepress-blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/vuepress-blog/me.jpg" alt="author-avatar" class="personal-img" data-v-1fad0c41> <!----> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>33</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>31</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/vuepress-blog/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-blog/categories/前端/" class="nav-link"><i class="undefined"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/categories/工具/" class="nav-link"><i class="undefined"></i>
  工具
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/categories/刷题/" class="nav-link"><i class="undefined"></i>
  刷题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      zhang lei 的博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/4495277269197975" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/zerle" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/vuepress-blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Webpack--基础篇</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">Webpack--基础篇</h1> <div data-v-8a445198><!----> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>2020/7/15</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>Webpack</span></i></div></div> <div class="theme-reco-content content__default"><p>解锁Webpack系列(基础篇)</p> <h2 id="_1-webpack-是什么"><a href="#_1-webpack-是什么" class="header-anchor">#</a> 1.webpack 是什么？</h2> <p>webpack 是一个现代 JavaScript 应用程序的静态模块打包器，当 webpack 处理应用程序时，会递归构建一个依赖关系图，其中包含应用程序需要的每个模块，然后将这些模块打包成一个或多个 bundle。</p> <h2 id="_2-webpack-的核心概念"><a href="#_2-webpack-的核心概念" class="header-anchor">#</a> 2.webpack 的核心概念</h2> <p>entry: 入口
output: 输出
loader: 模块转换器，用于把模块原内容按照需求转换成新内容
插件(plugins): 扩展插件，在webpack构建流程中的特定时机注入扩展逻辑来改变构建结果或做你想要做的事情</p> <h2 id="_3-初始化项目"><a href="#_3-初始化项目" class="header-anchor">#</a> 3.初始化项目</h2> <p>新建一个文件夹，如: webpack-first (当然，你可以使用任意一个你喜欢的项目名)。推荐大家参考本文一步一步进行配置，不要总是在网上找什么最佳配置，你掌握了webpack之后，根据自己的需求配置出来的，就是最佳配置。</p> <p>使用 npm init -y 进行初始化(也可以使用 yarn)。</p> <p>要使用 webpack，那么必然需要安装 webpack、webpack-cli:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> webpack webpack-cli <span class="token parameter variable">-D</span>
</code></pre></div><p>鉴于前端技术变更迅速，祭出本篇文章基于 webpack 的版本号:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>├── webpack@4.43.0 
└── webpack-cli@3.3.12 
</code></pre></div><p>从 wepack V4.0.0 开始， webpack 是开箱即用的，在不引入任何配置文件的情况下就可以使用。</p> <p>新建 src/index.js 文件，我们在文件中随便写点什么:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>//index.js
class Animal <span class="token punctuation">{</span>
    constructor<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        this.name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function-name function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin class-name">return</span> this.name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

const dog <span class="token operator">=</span> new Animal<span class="token punctuation">(</span><span class="token string">'dog'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>使用 npx webpack --mode=development 进行构建，默认是 production 模式，我们为了更清楚得查看打包后的代码，使用 development 模式。
可以看到项目下多了个 dist 目录，里面有一个打包出来的文件 main.js。
webpack 有默认的配置，如默认的入口文件是 ./src，默认打包到dist/main.js。更多的默认配置可以查看: node_modules/webpack/lib/WebpackOptionsDefaulter.js。
查看 dist/main.js 文件，可以看到，src/index.js 并没有被转义为低版本的代码，这显然不是我们想要的。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;./src/index.js&quot;</span><span class="token builtin class-name">:</span>
        <span class="token punctuation">(</span>function <span class="token punctuation">(</span>module, exports<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            eval<span class="token punctuation">(</span><span class="token string">&quot;class Animal {<span class="token entity" title="\n">\n</span>    constructor(name) {<span class="token entity" title="\n">\n</span>        this.name = name;<span class="token entity" title="\n">\n</span>    }<span class="token entity" title="\n">\n</span>    getName() {<span class="token entity" title="\n">\n</span>        return this.name;<span class="token entity" title="\n">\n</span>    }<span class="token entity" title="\n">\n</span>}<span class="token entity" title="\n">\n</span><span class="token entity" title="\n">\n</span>const dog = new Animal('dog');<span class="token entity" title="\n">\n</span><span class="token entity" title="\n">\n</span>//# sourceURL=webpack:///./src/index.js?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_4-将js转义为低版本"><a href="#_4-将js转义为低版本" class="header-anchor">#</a> 4.将JS转义为低版本</h2> <p>前面我们说了 webpack 的四个核心概念，其中之一就是 loader，loader 用于对源代码进行转换，这正是我们现在所需要的。</p> <p>将JS代码向低版本转换，我们需要使用 babel-loader。</p> <h3 id="babel-loader"><a href="#babel-loader" class="header-anchor">#</a> babel-loader</h3> <p>首先安装一下 babel-loader</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> babel-loader <span class="token parameter variable">-D</span>
</code></pre></div><p>此外，我们还需要配置 babel，为此我们安装一下以下依赖:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> @babel/core @babel/preset-env @babel/plugin-transform-runtime <span class="token parameter variable">-D</span>

<span class="token function">npm</span> <span class="token function">install</span> @babel/runtime @babel/runtime-corejs3 <span class="token parameter variable">-D</span>
</code></pre></div><p>新建 webpack.config.js，如下:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>//webpack.config.js
module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    module: <span class="token punctuation">{</span>
        rules: <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                test: /<span class="token punctuation">\</span>.jsx?$/,
                use: <span class="token punctuation">[</span><span class="token string">'babel-loader'</span><span class="token punctuation">]</span>,
                exclude: /node_modules/ //排除 node_modules 目录
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>建议给 loader 指定 include 或是 exclude，指定其中一个即可，因为 node_modules 目录通常不需要我们去编译，排除后，有效提升编译效率。
这里，我们可以在 .babelrc 中编写 babel 的配置，也可以在 webpack.config.js 中进行配置。</p> <h3 id="创建一个-babelrc"><a href="#创建一个-babelrc" class="header-anchor">#</a> 创建一个 .babelrc</h3> <p>配置如下：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;presets&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span>,
    <span class="token string">&quot;plugins&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span>
            <span class="token string">&quot;@babel/plugin-transform-runtime&quot;</span>,
            <span class="token punctuation">{</span>
                <span class="token string">&quot;corejs&quot;</span><span class="token builtin class-name">:</span> <span class="token number">3</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>现在，我们重新执行 npx webpack --mode=development，查看 dist/main.js，会发现已经被编译成了低版本的JS代码。</p> <h3 id="在webpack中配置-babel"><a href="#在webpack中配置-babel" class="header-anchor">#</a> 在webpack中配置 babel</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>//webpack.config.js
module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    // mode: <span class="token string">'development'</span>,
    module: <span class="token punctuation">{</span>
        rules: <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                test: /<span class="token punctuation">\</span>.jsx?$/,
                use: <span class="token punctuation">{</span>
                    loader: <span class="token string">'babel-loader'</span>,
                    options: <span class="token punctuation">{</span>
                        presets: <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span>,
                        plugins: <span class="token punctuation">[</span>
                            <span class="token punctuation">[</span>
                                <span class="token string">&quot;@babel/plugin-transform-runtime&quot;</span>,
                                <span class="token punctuation">{</span>
                                    <span class="token string">&quot;corejs&quot;</span><span class="token builtin class-name">:</span> <span class="token number">3</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">]</span>
                        <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>,
                exclude: /node_modules/
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这里有几点需要说明：</p> <p>loader 需要配置在 module.rules 中，rules 是一个数组。
loader 的格式为:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">{</span>
    test: /<span class="token punctuation">\</span>.jsx?$/,//匹配规则
    use: <span class="token string">'babel-loader'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>或者也可以像下面这样:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>//适用于只有一个 loader 的情况
<span class="token punctuation">{</span>
    test: /<span class="token punctuation">\</span>.jsx?$/,
    loader: <span class="token string">'babel-loader'</span>,
    options: <span class="token punctuation">{</span>
        //<span class="token punctuation">..</span>.
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>test 字段是匹配规则，针对符合规则的文件进行处理。
use 字段有几种写法</p> <p>可以是一个字符串，例如上面的 use: 'babel-loader'
use 字段可以是一个数组，例如处理CSS文件是，use: ['style-loader', 'css-loader']
use 数组的每一项既可以是字符串也可以是一个对象，当我们需要在webpack 的配置文件中对 loader 进行配置，就需要将其编写为一个对象，并且在此对象的 options 字段中进行配置，如：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>rules: <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        test: /<span class="token punctuation">\</span>.jsx?$/,
        use: <span class="token punctuation">{</span>
            loader: <span class="token string">'babel-loader'</span>,
            options: <span class="token punctuation">{</span>
                presets: <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>,
        exclude: /node_modules/
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p>上面我们说了如何将JS的代码编译成向下兼容的代码，当然你可以还需要一些其它的 babel 的插件和预设，例如 @babel/preset-react，@babel/plugin-proposal-optional-chaining 等，不过，babel 的配置并非本文的重点，我们继续往下。
不要说细心的小伙伴了，即使是粗心的小伙伴肯定也发现了，我们在使用 webpack 进行打包的时候，一直运行的都是 npx webpack --mode=development 是否可以将 mode 配置在 webpack.config.js 中呢？显然是可以的。</p> <h2 id="_5-mode"><a href="#_5-mode" class="header-anchor">#</a> 5.mode</h2> <p>将 mode 增加到 webpack.config.js 中:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    //<span class="token punctuation">..</span><span class="token punctuation">..</span>
    mode: <span class="token string">&quot;development&quot;</span>,
    module: <span class="token punctuation">{</span>
        //<span class="token punctuation">..</span>.
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>mode 配置项，告知 webpack 使用相应模式的内置优化。
mode 配置项，支持以下两个配置:</p> <p>development：将 process.env.NODE_ENV 的值设置为 development，启用 NamedChunksPlugin 和 NamedModulesPlugin</p> <p>production：将 process.env.NODE_ENV 的值设置为 production，启用 FlagDependencyUsagePlugin, FlagIncludedChunksPlugin, ModuleConcatenationPlugin, NoEmitOnErrorsPlugin, OccurrenceOrderPlugin, SideEffectsFlagPlugin 和 UglifyJsPlugin</p> <h2 id="_6-在浏览器中查看页面"><a href="#_6-在浏览器中查看页面" class="header-anchor">#</a> 6.在浏览器中查看页面</h2> <p>搞了这么久，还不能在浏览器中查看页面，这显然不能忍！
查看页面，难免就需要 html 文件，有小伙伴可能知道，有时我们会指定打包文件中带有 hash，那么每次生成的 js 文件名会有所不同，总不能让我们每次都人工去修改 html，这样不是显得我们很蠢嘛~
我们可以使用 html-webpack-plugin 插件来帮助我们完成这些事情。
首先，安装一下插件:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> html-webpack-plugin <span class="token parameter variable">-D</span> 
</code></pre></div><p>新建 public 目录，并在其中新建一个 index.html 文件( 文件内容使用 html:5 快捷生成即可)</p> <p>修改 webpack.config.js 文件。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>//首先引入插件
const HtmlWebpackPlugin <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    //<span class="token punctuation">..</span>.
    plugins: <span class="token punctuation">[</span>
        //数组 放着所有的webpack插件
        new HtmlWebpackPlugin<span class="token punctuation">(</span><span class="token punctuation">{</span>
            template: <span class="token string">'./public/index.html'</span>,
            filename: <span class="token string">'index.html'</span>, //打包后的文件名
            minify: <span class="token punctuation">{</span>
                removeAttributeQuotes: false, //是否删除属性的双引号
                collapseWhitespace: false, //是否折叠空白
            <span class="token punctuation">}</span>,
            // hash: <span class="token boolean">true</span> //是否加上hash，默认是 <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>此时执行 npx webpack，可以看到 dist 目录下新增了 index.html 文件，并且其中自动插入了 &lt;script&gt; 脚本，引入的是我们打包之后的 js 文件。
这里要多说一点点东西，HtmlWebpackPlugin 还为我们提供了一个 config 的配置，这个配置可以说是非常有用了。</p> <h3 id="html-webpack-plugin-的-config-的妙用"><a href="#html-webpack-plugin-的-config-的妙用" class="header-anchor">#</a> html-webpack-plugin 的 config 的妙用</h3> <p>有时候，我们的脚手架不仅仅给自己使用，也许还提供给其它业务使用，html 文件的可配置性可能很重要，比如：你公司有专门的部门提供M页的公共头部/公共尾部，埋点jssdk以及分享的jssdk等等，但是不是每个业务都需要这些内容。
一个功能可能对应多个 js 或者是 css 文件，如果每次都是业务自行修改 public/index.html 文件，也挺麻烦的。首先他们得搞清楚每个功能需要引入的文件，然后才能对 index.html 进行修改。
此时我们可以增加一个配置文件，业务通过设置 true 或 false 来选出自己需要的功能，我们再根据配置文件的内容，为每个业务生成相应的 html 文件，岂不是美美的。
Let's Go!
首先，我们在 public 目录下新增一个 config.js ( 文件名你喜欢叫什么就叫什么 )，将其内容设置为:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>//public/config.js 除了以下的配置之外，这里面还可以有许多其他配置，例如,pulicPath 的路径等等
module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    dev: <span class="token punctuation">{</span>
        template: <span class="token punctuation">{</span>
            title: <span class="token string">'你好'</span>,
            header: false,
            footer: <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>,
    build: <span class="token punctuation">{</span>
        template: <span class="token punctuation">{</span>
            title: <span class="token string">'你好才怪'</span>,
            header: true,
            footer: <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>现在，我们修改下我们的 webpack.config.js:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>//webpack.config.js
const HtmlWebpackPlugin <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
const isDev <span class="token operator">=</span> process.env.NODE_ENV <span class="token operator">==</span><span class="token operator">=</span> <span class="token string">'development'</span><span class="token punctuation">;</span>
const config <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'./public/config'</span><span class="token punctuation">)</span><span class="token punctuation">[</span>isDev ? <span class="token string">'dev'</span> <span class="token builtin class-name">:</span> <span class="token string">'build'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

modue.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    //<span class="token punctuation">..</span>.
    mode: isDev ? <span class="token string">'development'</span> <span class="token builtin class-name">:</span> <span class="token string">'production'</span>
    plugins: <span class="token punctuation">[</span>
        new HtmlWebpackPlugin<span class="token punctuation">(</span><span class="token punctuation">{</span>
            template: <span class="token string">'./public/index.html'</span>,
            filename: <span class="token string">'index.html'</span>, //打包后的文件名
            config: config.template
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>相应的，我们需要修改下我们的 public/index.html 文件(嵌入的js和css并不存在，仅作为示意)：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html <span class="token assign-left variable">lang</span><span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta <span class="token assign-left variable">charset</span><span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;viewport&quot;</span> <span class="token assign-left variable">content</span><span class="token operator">=</span><span class="token string">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta http-equiv<span class="token operator">=</span><span class="token string">&quot;X-UA-Compatible&quot;</span> <span class="token assign-left variable">content</span><span class="token operator">=</span><span class="token string">&quot;ie=edge&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>% if<span class="token punctuation">(</span>htmlWebpackPlugin.options.config.header<span class="token punctuation">)</span> <span class="token punctuation">{</span> %<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>link <span class="token assign-left variable">rel</span><span class="token operator">=</span><span class="token string">&quot;stylesheet&quot;</span> <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">&quot;text/css&quot;</span> <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">&quot;//common/css/header.css&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>% <span class="token punctuation">}</span> %<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span><span class="token operator">&lt;</span>%<span class="token operator">=</span> <span class="token punctuation">(</span>htmlWebpackPlugin.options.config.title<span class="token punctuation">)</span> %<span class="token operator">&gt;</span><span class="token operator">&lt;</span>/title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/head<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/body<span class="token operator">&gt;</span> 
<span class="token operator">&lt;</span>% if<span class="token punctuation">(</span>htmlWebpackPlugin.options.config.header<span class="token punctuation">)</span> <span class="token punctuation">{</span> %<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script <span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token string">&quot;//common/header.min.js&quot;</span> <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span> 
<span class="token operator">&lt;</span>% <span class="token punctuation">}</span> %<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/html<span class="token operator">&gt;</span>
</code></pre></div><p>process.env 中默认并没有 NODE_ENV，这里配置下我们的 package.json 的 scripts.</p> <p>为了兼容Windows和Mac，我们先安装一下 cross-env:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> cross-env <span class="token parameter variable">-D</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;scripts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;dev&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;cross-env NODE_ENV=development webpack&quot;</span>,
        <span class="token string">&quot;build&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;cross-env NODE_ENV=production webpack&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>然后我们运行 npm run dev 和 运行 npm run build ，对比下 dist/index.html ，可以看到 npm run build，生成的 index.html 文件中引入了对应的 css 和 js。并且对应的 title 内容也不一样。
你说这里是不是非得是用 NODE_ENV 去判断？当然不是咯，你写 aaa=1 ，aaa=2 都行（当然啦，webpack.config.js 和 scripts 都需要进行相应修改），但是可能会被后面接手的人打死。</p> <h3 id="如何在浏览器中实时展示效果"><a href="#如何在浏览器中实时展示效果" class="header-anchor">#</a> 如何在浏览器中实时展示效果</h3> <p>说了这么多，到现在还没能在浏览器中实时查看效果，是不是已经有点捉急了，先看一下如何实时查看效果吧，不然都不知道自己配得对不对。</p> <p>话不多说，先装依赖:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> webpack-dev-server <span class="token parameter variable">-D</span>
</code></pre></div><p>修改下咱们的 package.json 文件的 scripts：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token string">&quot;scripts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;dev&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;cross-env NODE_ENV=development webpack-dev-server&quot;</span>,
    <span class="token string">&quot;build&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;cross-env NODE_ENV=production webpack&quot;</span>
<span class="token punctuation">}</span>,
</code></pre></div><p>在控制台执行 npm run dev，启动正常，页面上啥也没有，修改下我们的JS代码，往页面中增加点内容，正常刷新(也就是说不需要进行任何配置就可以使用了)。
Excuse me。怪我平时不认真咯，每次都乖乖的配个 contentBase，原来根本不需要配，带着疑问，我又去搜寻了一番。
原来在配置了 html-webpack-plugin 的情况下， contentBase 不会起任何作用，也就是说我以前都是白配了，这是一个悲伤的故事。
不过呢，我们还是可以在 webpack.config.js 中进行 webpack-dev-server 的其它配置，例如指定端口号，设置浏览器控制台消息，是否压缩等等:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>//webpack.config.js
module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    //<span class="token punctuation">..</span>.
    devServer: <span class="token punctuation">{</span>
        port: <span class="token string">'3000'</span>, //默认是8080
        quiet: false, //默认不启用
        inline: true, //默认开启 inline 模式，如果设置为false,开启 iframe 模式
        stats: <span class="token string">&quot;errors-only&quot;</span>, //终端仅打印 error
        overlay: false, //默认不启用
        clientLogLevel: <span class="token string">&quot;silent&quot;</span>, //日志等级
        compress: <span class="token boolean">true</span> //是否启用 <span class="token function">gzip</span> 压缩
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>启用 quiet 后，除了初始启动信息之外的任何内容都不会被打印到控制台。这也意味着来自 webpack 的错误或警告在控制台不可见 ———— 我是不会开启这个的，看不到错误日志，还搞个锤子
stats: &quot;errors-only&quot; ， 终端中仅打印出 error，注意当启用了 quiet 或者是 noInfo 时，此属性不起作用。 ————— 这个属性个人觉得很有用，尤其是我们启用了 eslint 或者使用 TS进行开发的时候，太多的编译信息在终端中，会干扰到我们。
启用 overlay 后，当编译出错时，会在浏览器窗口全屏输出错误，默认是关闭的。</p> <p>{% asset_img error.png This is an image %}</p> <p>clientLogLevel: 当使用内联模式时，在浏览器的控制台将显示消息，如：在重新加载之前，在一个错误之前，或者模块热替换启用时。如果你不喜欢看这些信息，可以将其设置为 silent (none 即将被移除)。</p> <p>{% asset_img log.png This is an image %}</p> <p>本篇文章不是为了细说 webpack-dev-server 的配置，所以这里就不多说了。关于 webpack-dev-server 更多的配置可以点击查看https://webpack.js.org/configuration/dev-server/。</p> <p>细心的小伙伴可能发现了一个小问题，我们在src/index.js中增加一句 console.log('aaa')：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>class Animal <span class="token punctuation">{</span>
    constructor<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        this.name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function-name function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin class-name">return</span> this.name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

const dog <span class="token operator">=</span> new Animal<span class="token punctuation">(</span><span class="token string">'dog'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console.log<span class="token punctuation">(</span><span class="token string">'aaa'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>然后通过 npm run dev 查看效果，会发现：</p> <p>{% asset_img 01.png This is an image %}</p> <p>这显然不是我们源码中对应的行号，点进去的话，会发现代码是被编译后的，我当前的代码非常简单，还能看出来，项目代码复杂后，“亲妈”看编译后都费劲，这不利于我们开发调试，不是我们想要的，我们肯定还是希望能够直接对应到源码的。</p> <h2 id="_7-devtool"><a href="#_7-devtool" class="header-anchor">#</a> 7.devtool</h2> <p>devtool 中的一些设置，可以帮助我们将编译后的代码映射回原始源代码。不同的值会明显影响到构建和重新构建的速度。
对我而言，能够定位到源码的行即可，因此，综合构建速度，在开发模式下，我设置的 devtool 的值是 cheap-module-eval-source-map。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>//webpack.config.js
module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    devtool: <span class="token string">'cheap-module-eval-source-map'</span> //开发环境下使用
<span class="token punctuation">}</span>
</code></pre></div><p>生产环境可以使用 none 或者是 source-map，使用 source-map 最终会单独打包出一个 .map 文件，我们可以根据报错信息和此 map 文件，进行错误解析，定位到源代码。
source-map 和 hidden-source-map 都会打包生成单独的 .map 文件，区别在于，source-map 会在打包出的js文件中增加一个引用注释，以便开发工具知道在哪里可以找到它。hidden-source-map 则不会在打包的js中增加引用注释。
但是我们一般不会直接将 .map 文件部署到CDN，因为会直接映射到源码，更希望将.map 文件传到错误解析系统，然后根据上报的错误信息，直接解析到出错的源码位置。
还可以设置其他的devtool值，你可以使用不同的值，构建对比差异。
现在我们已经说了 html、js 了，并且也可以在浏览器中实时看到效果了，现在就不得不说页面开发三巨头之一的 css 。</p> <h2 id="_8-如何处理样式文件呢"><a href="#_8-如何处理样式文件呢" class="header-anchor">#</a> 8.如何处理样式文件呢</h2> <p>webpack 不能直接处理 css，需要借助 loader。如果是 .css，我们需要的 loader 通常有： style-loader、css-loader，考虑到兼容性问题，还需要 postcss-loader，而如果是 less 或者是 sass 的话，还需要 less-loader 和 sass-loader，这里配置一下 less 和 css 文件(sass 的话，使用 sass-loader即可):
先安装一下需要使用的依赖:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> style-loader less-loader css-loader postcss-loader autoprefixer <span class="token function">less</span> <span class="token parameter variable">-D</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>//webpack.config.js
module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    //<span class="token punctuation">..</span>.
    module: <span class="token punctuation">{</span>
        rules: <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                test: /<span class="token punctuation">\</span>.<span class="token punctuation">(</span>le<span class="token operator">|</span>c<span class="token punctuation">)</span>ss$/,
                use: <span class="token punctuation">[</span><span class="token string">'style-loader'</span>, <span class="token string">'css-loader'</span>, <span class="token punctuation">{</span>
                    loader: <span class="token string">'postcss-loader'</span>,
                    options: <span class="token punctuation">{</span>
                        plugins: <span class="token function-name function">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token builtin class-name">return</span> <span class="token punctuation">[</span>
                                require<span class="token punctuation">(</span><span class="token string">'autoprefixer'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                                    <span class="token string">&quot;overrideBrowserslist&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                                        <span class="token string">&quot;&gt;0.25%&quot;</span>,
                                        <span class="token string">&quot;not dead&quot;</span>
                                    <span class="token punctuation">]</span>
                                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                            <span class="token punctuation">]</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>, <span class="token string">'less-loader'</span><span class="token punctuation">]</span>,
                exclude: /node_modules/
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>测试一下，新建一个 less 文件，src/index.less:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>//src/index.less
@color: red<span class="token punctuation">;</span>
body<span class="token punctuation">{</span>
    background: @color<span class="token punctuation">;</span>
    transition: all 2s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>再在入口文件中引入此 less:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>//src/index.js
<span class="token function">import</span> <span class="token string">'./index.less'</span><span class="token punctuation">;</span>
</code></pre></div><p>我们修改了配置文件，重新启动一下服务: npm run dev。可以看到页面的背景色变成了红色。
OK，我们简单说一下上面的配置：</p> <p>style-loader 动态创建 style 标签，将 css 插入到 head 中.
css-loader 负责处理 @import 等语句。
postcss-loader 和 autoprefixer，自动生成浏览器兼容性前缀 —— 2020了，应该没人去自己徒手去写浏览器前缀了吧
less-loader 负责处理编译 .less 文件,将其转为 css</p> <p>这里，我们之间在 webpack.config.js 写了 autoprefixer 需要兼容的浏览器，仅是为了方便展示。推荐大家在根目录下创建 .browserslistrc，将对应的规则写在此文件中，除了 autoprefixer 使用外，@babel/preset-env、stylelint、eslint-plugin-conmpat 等都可以共用。</p> <h3 id="注意"><a href="#注意" class="header-anchor">#</a> 注意：</h3> <p>loader 的执行顺序是从右向左执行的，也就是后面的 loader 先执行，上面 loader 的执行顺序为: less-loader ---&gt; postcss-loader ---&gt; css-loader ---&gt; style-loader
当然，loader 其实还有一个参数，可以修改优先级，enforce 参数，其值可以为: pre(优先执行) 或 post (滞后执行)。
现在，我们已经可以处理 .less 文件啦，.css 文件只需要修改匹配规则，删除 less-loader 即可。
现在的一切看起来都很完美，但是假设我们的文件中使用了本地的图片，例如:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>body<span class="token punctuation">{</span>
    background: url<span class="token punctuation">(</span><span class="token string">'../images/thor.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>你就会发现，报错啦啦啦，那么我们要怎么处理图片或是本地的一些其它资源文件呢。不用想，肯定又需要 loader 出马了。</p> <h2 id="_9-图片-字体文件处理"><a href="#_9-图片-字体文件处理" class="header-anchor">#</a> 9.图片/字体文件处理</h2> <p>我们可以使用 url-loader 或者 file-loader 来处理本地的资源文件。url-loader 和 file-loader 的功能类似，但是 url-loader 可以指定在文件大小小于指定的限制时，返回 DataURL，因此，个人会优先选择使用 url-loader。
首先安装依赖:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> url-loader <span class="token parameter variable">-D</span>
</code></pre></div><p>{% asset_img 02.png This is an image %}</p> <p>安装 url-loader 的时候，控制台会提示你，还需要安装下 file-loader，听人家的话安装下就行(新版 npm 不会自动安装 peerDependencies)：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> file-loader <span class="token parameter variable">-D</span>
</code></pre></div><p>在 webpack.config.js 中进行配置：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>//webpack.config.js
module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    //<span class="token punctuation">..</span>.
    modules: <span class="token punctuation">{</span>
        rules: <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                test: /<span class="token punctuation">\</span>.<span class="token punctuation">(</span>png<span class="token operator">|</span>jpg<span class="token operator">|</span>gif<span class="token operator">|</span>jpeg<span class="token operator">|</span>webp<span class="token operator">|</span>svg<span class="token operator">|</span>eot<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>woff2<span class="token punctuation">)</span>$/,
                use: <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        loader: <span class="token string">'url-loader'</span>,
                        options: <span class="token punctuation">{</span>
                            limit: <span class="token number">10240</span>, //10K
                            esModule: <span class="token boolean">false</span> 
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>,
                exclude: /node_modules/
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>此处设置 limit 的值大小为 10240，即资源大小小于 10K 时，将资源转换为 base64，超过 10K，将图片拷贝到 dist 目录。esModule 设置为 false，否则，&lt;img src={require('XXX.jpg')} /&gt; 会出现 &lt;img src=[Module Object] /&gt;
将资源转换为 base64 可以减少网络请求次数，但是 base64 数据较大，如果太多的资源是 base64，会导致加载变慢，因此设置 limit 值时，需要二者兼顾。
默认情况下，生成的文件的文件名就是文件内容的 MD5 哈希值并会保留所引用资源的原始扩展名，例如我上面的图片(thor.jpeg)对应的文件名如下：</p> <p>{% asset_img 03.png This is an image %}</p> <p>当然，你也可以通过 options 参数进行修改。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>//<span class="token punctuation">..</span><span class="token punctuation">..</span>
use: <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        loader: <span class="token string">'url-loader'</span>,
        options: <span class="token punctuation">{</span>
            limit: <span class="token number">10240</span>, //10K
            esModule: false,
            name: <span class="token string">'[name]_[hash:6].[ext]'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p>重新编译，在浏览器中审查元素，可以看到图片名变成了: thor_a5f7c0.jpeg。
当本地资源较多时，我们有时会希望它们能打包在一个文件夹下，这也很简单，我们只需要在 url-loader 的 options 中指定 outpath，如: outputPath: 'assets'，构建出的目录如下:</p> <p>{% asset_img 04.png This is an image %}</p> <p>更多的 url-loader 配置可以查看https://www.webpackjs.com/loaders/url-loader/</p> <p>到了这里，有点岁月静好的感觉了。</p> <p>{% asset_img 05.png This is an image %}</p> <p>不过还没完，如果你在 public/index.html 文件中，使用本地的图片，例如，我们修改一下 public/index.html：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&lt;</span>img <span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token string">&quot;./a.jpg&quot;</span> /<span class="token operator">&gt;</span>
</code></pre></div><p>重启本地服务，虽然，控制台不会报错，但是你会发现，浏览器中根本加载不出这张图片，Why？因为构建之后，通过相对路径压根找不着这张图片呀。</p> <p>How？怎么解决呢？</p> <h2 id="_10-处理-html-中的本地图片"><a href="#_10-处理-html-中的本地图片" class="header-anchor">#</a> 10.处理 html 中的本地图片</h2> <p>安装 html-withimg-loader 来解决咯。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> html-withimg-loader <span class="token parameter variable">-D</span>
</code></pre></div><p>修改 webpack.config.js：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    //<span class="token punctuation">..</span>.
    module: <span class="token punctuation">{</span>
        rules: <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                test: /.html$/,
                use: <span class="token string">'html-withimg-loader'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>然后在我们的 html 中引入一张文件测试一下（图片地址自己写咯，这里只是示意）:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&lt;</span><span class="token operator">!</span>-- index.html --<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>img <span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token string">&quot;./thor.jpeg&quot;</span> /<span class="token operator">&gt;</span>
</code></pre></div><p>重启本地服务，图片并没能加载，审查元素的话，会发现图片的地址显示的是 {&quot;default&quot;:&quot;assets/thor_a5f7c0.jpeg&quot;}。</p> <p>{% asset_img 06.png This is an image %}</p> <p>我当前 file-loader 的版本是 5.0.2，5版本之后，需要增加 esModule 属性：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>//webpack.config.js
module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    //<span class="token punctuation">..</span>.
    modules: <span class="token punctuation">{</span>
        rules: <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                test: /<span class="token punctuation">\</span>.<span class="token punctuation">(</span>png<span class="token operator">|</span>jpg<span class="token operator">|</span>gif<span class="token operator">|</span>jpeg<span class="token operator">|</span>webp<span class="token operator">|</span>svg<span class="token operator">|</span>eot<span class="token operator">|</span>ttf<span class="token operator">|</span>woff<span class="token operator">|</span>woff2<span class="token punctuation">)</span>$/,
                use: <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        loader: <span class="token string">'url-loader'</span>,
                        options: <span class="token punctuation">{</span>
                            limit: <span class="token number">10240</span>, //10K
                            esModule: <span class="token boolean">false</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>再重启本地服务，就搞定啦。
话说使用 html-withimg-loader 处理图片之后，html 中就不能使用 vm, ejs 的模板了，如果想继续在 html 中使用 &lt;% if(htmlWebpackPlugin.options.config.header) { %&gt; 这样的语法，但是呢，又希望能使用本地图片，可不可以？鱼和熊掌都想要，虽然很多时候，能吃个鱼就不错了，但是这里是可以的哦，像下面这样编写图片的地址，并且删除html-withimg-loader的配置即可。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&lt;</span><span class="token operator">!</span>-- index.html --<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>img <span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token string">&quot;&lt;%= require('./thor.jpeg') %&gt;&quot;</span> /<span class="token operator">&gt;</span>
</code></pre></div><p>图片加载OK啦，并且 &lt;% %&gt; 语法也可以正常使用，吼吼吼~~~</p> <p>虽然，webpack 的默认配置很好用，但是有的时候，我们会有一些其它需要啦，例如，我们不止一个入口文件，这时候，该怎么办呢？</p> <h2 id="_11-入口配置"><a href="#_11-入口配置" class="header-anchor">#</a> 11.入口配置</h2> <p>入口的字段为: entry</p> <div class="language-bash extra-class"><pre class="language-bash"><code>//webpack.config.js
module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    entry: <span class="token string">'./src/index.js'</span> //webpack的默认配置
<span class="token punctuation">}</span>
</code></pre></div><p>entry 的值可以是一个字符串，一个数组或是一个对象。</p> <p>字符串的情况无需多说，就是以对应的文件为入口。</p> <p>为数组时，表示有“多个主入口”，想要多个依赖文件一起注入时，会这样配置。例如:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>entry: <span class="token punctuation">[</span>
    <span class="token string">'./src/polyfills.js'</span>,
    <span class="token string">'./src/index.js'</span>
<span class="token punctuation">]</span>
</code></pre></div><p>polyfills.js 文件中可能只是简单的引入了一些 polyfill，例如 babel-polyfill，whatwg-fetch 等，需要在最前面被引入（我在 webpack2 时这样配置过）。
那什么时候是对象呢？不要捉急，后面将多页配置的时候，会说到。</p> <h2 id="_12-出口配置"><a href="#_12-出口配置" class="header-anchor">#</a> 12.出口配置</h2> <p>配置 output 选项可以控制 webpack 如何输出编译文件。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>const path <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    entry: <span class="token string">'./src/index.js'</span>,
    output: <span class="token punctuation">{</span>
        path: path.resolve<span class="token punctuation">(</span>__dirname, <span class="token string">'dist'</span><span class="token punctuation">)</span>, //必须是绝对路径
        filename: <span class="token string">'bundle.js'</span>,
        publicPath: <span class="token string">'/'</span> //通常是CDN地址
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>例如，你最终编译出来的代码部署在 CDN 上，资源的地址为: 'https://AAA/BBB/YourProject/XXX'，那么可以将生产的 publicPath 配置为: //AAA/BBB/。
编译时，可以不配置，或者配置为 /。可以在我们之前提及的 config.js 中指定 publicPath（config.js 中区分了 dev 和 public）， 当然还可以区分不同的环境指定配置文件来设置，或者是根据 isDev 字段来设置。
除此之外呢，考虑到CDN缓存的问题，我们一般会给文件名加上 hash.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>//webpack.config.js
module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    output: <span class="token punctuation">{</span>
        path: path.resolve<span class="token punctuation">(</span>__dirname, <span class="token string">'dist'</span><span class="token punctuation">)</span>, //必须是绝对路径
        filename: <span class="token string">'bundle.[hash].js'</span>,
        publicPath: <span class="token string">'/'</span> //通常是CDN地址
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果你觉得 hash 串太长的话，还可以指定长度，例如 bundle.[hash:6].js。使用 npm run build 打包看看吧。
问题出现啦，每次文件修改后，重新打包，导致 dist 目录下的文件越来越多。要是每次打包前，都先清空一下目录就好啦。可不可以做到呢？必须可以！</p> <h2 id="_13-每次打包前清空dist目录"><a href="#_13-每次打包前清空dist目录" class="header-anchor">#</a> 13.每次打包前清空dist目录</h2> <p>反正我是懒得手动去清理的，只要你足够懒，你总是会找到好办法的，懒人推动科技进步。这里，我们需要插件: clean-webpack-plugin</p> <p>安装依赖:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> clean-webpack-plugin <span class="token parameter variable">-D</span>
</code></pre></div><p>以前，clean-webpack-plugin 是默认导出的，现在不是，所以引用的时候，需要注意一下。另外，现在构造函数接受的参数是一个对象，可缺省。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>//webpack.config.js
const <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'clean-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    //<span class="token punctuation">..</span>.
    plugins: <span class="token punctuation">[</span>
        //不需要传参数喔，它可以找到 outputPath
        new CleanWebpackPlugin<span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>现在你再修改文件，重现构建，生成的hash值和之前dist中的不一样，但是因为每次 clean-webpack-plugin 都会帮我们先清空一波 dist 目录，所以不会出现太多文件，傻傻分不清楚究竟哪个是新生成文件的情况。</p> <h3 id="希望dist目录下某个文件夹不被清空"><a href="#希望dist目录下某个文件夹不被清空" class="header-anchor">#</a> 希望dist目录下某个文件夹不被清空</h3> <p>不过呢，有些时候，我们并不希望整个 dist 目录都被清空，比如，我们不希望，每次打包的时候，都删除 dll 目录，以及 dll 目录下的文件或子目录，该怎么办呢？
clean-webpack-plugin 为我们提供了参数 cleanOnceBeforeBuildPatterns。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>//webpack.config.js
module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    //<span class="token punctuation">..</span>.
    plugins: <span class="token punctuation">[</span>
        new CleanWebpackPlugin<span class="token punctuation">(</span><span class="token punctuation">{</span>
            cleanOnceBeforeBuildPatterns:<span class="token punctuation">[</span><span class="token string">'**/*'</span>, <span class="token string">'!dll'</span>, <span class="token string">'!dll/**'</span><span class="token punctuation">]</span> //不删除dll目录下的文件
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>至此，我们算是完成了一个基础配置。</p></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#_1-webpack-是什么" class="sidebar-link reco-side-_1-webpack-是什么" data-v-b57cc07c>1.webpack 是什么？</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#_2-webpack-的核心概念" class="sidebar-link reco-side-_2-webpack-的核心概念" data-v-b57cc07c>2.webpack 的核心概念</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#_3-初始化项目" class="sidebar-link reco-side-_3-初始化项目" data-v-b57cc07c>3.初始化项目</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#_4-将js转义为低版本" class="sidebar-link reco-side-_4-将js转义为低版本" data-v-b57cc07c>4.将JS转义为低版本</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#babel-loader" class="sidebar-link reco-side-babel-loader" data-v-b57cc07c>babel-loader</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#创建一个-babelrc" class="sidebar-link reco-side-创建一个-babelrc" data-v-b57cc07c>创建一个 .babelrc</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#在webpack中配置-babel" class="sidebar-link reco-side-在webpack中配置-babel" data-v-b57cc07c>在webpack中配置 babel</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#_5-mode" class="sidebar-link reco-side-_5-mode" data-v-b57cc07c>5.mode</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#_6-在浏览器中查看页面" class="sidebar-link reco-side-_6-在浏览器中查看页面" data-v-b57cc07c>6.在浏览器中查看页面</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#html-webpack-plugin-的-config-的妙用" class="sidebar-link reco-side-html-webpack-plugin-的-config-的妙用" data-v-b57cc07c>html-webpack-plugin 的 config 的妙用</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#如何在浏览器中实时展示效果" class="sidebar-link reco-side-如何在浏览器中实时展示效果" data-v-b57cc07c>如何在浏览器中实时展示效果</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#_7-devtool" class="sidebar-link reco-side-_7-devtool" data-v-b57cc07c>7.devtool</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#_8-如何处理样式文件呢" class="sidebar-link reco-side-_8-如何处理样式文件呢" data-v-b57cc07c>8.如何处理样式文件呢</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#注意" class="sidebar-link reco-side-注意" data-v-b57cc07c>注意：</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#_9-图片-字体文件处理" class="sidebar-link reco-side-_9-图片-字体文件处理" data-v-b57cc07c>9.图片/字体文件处理</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#_10-处理-html-中的本地图片" class="sidebar-link reco-side-_10-处理-html-中的本地图片" data-v-b57cc07c>10.处理 html 中的本地图片</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#_11-入口配置" class="sidebar-link reco-side-_11-入口配置" data-v-b57cc07c>11.入口配置</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#_12-出口配置" class="sidebar-link reco-side-_12-出口配置" data-v-b57cc07c>12.出口配置</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#_13-每次打包前清空dist目录" class="sidebar-link reco-side-_13-每次打包前清空dist目录" data-v-b57cc07c>13.每次打包前清空dist目录</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-blog/blogs/webpack-base.html#希望dist目录下某个文件夹不被清空" class="sidebar-link reco-side-希望dist目录下某个文件夹不被清空" data-v-b57cc07c>希望dist目录下某个文件夹不被清空</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div class="Sakura" data-v-248d85d6><canvas id="canvas_sakura" style="z-index:-1;" data-v-248d85d6></canvas></div><canvas id="vuepress-canvas-cursor"></canvas><div class="reco-bgm-panel" data-v-b1d3339e><audio id="bgm" src="https://cs-sycdn.kuwo.cn/371642c104355a522300695af11424d3/64db8722/resource/n3/6/44/3638605905.mp3" data-v-b1d3339e></audio> <div class="reco-float-box" style="bottom:20px;z-index:999999;display:none;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><img src="https://img1.kuwo.cn/star/albumcover/500/53/43/1728161476.jpg" data-v-b1d3339e></div> <div class="reco-bgm-box" style="left:10px;bottom:10px;z-index:999999;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="reco-bgm-cover" style="background-image:url(https://img1.kuwo.cn/star/albumcover/500/53/43/1728161476.jpg);" data-v-b1d3339e><div class="mini-operation" style="display:none;" data-v-b1d3339e><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-b1d3339e></i></div> <div class="falut-message" style="display:none;" data-v-b1d3339e>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-music music" data-v-b1d3339e></i>可能</div> <div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-artist" data-v-b1d3339e></i>程响</div> <div class="reco-bgm-progress" data-v-b1d3339e><div class="progress-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div> <div class="reco-bgm-operation" data-v-b1d3339e><i class="reco-bgm reco-bgm-last last" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play play" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-next next" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-b1d3339e></i> <div class="volume-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div></div> <div class="reco-bgm-left-box" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><i class="reco-bgm reco-bgm-left" data-v-b1d3339e></i></div></div></div></div></div>
    <script src="/vuepress-blog/assets/js/app.cfe4f1dc.js" defer></script><script src="/vuepress-blog/assets/js/7.a84a24ff.js" defer></script><script src="/vuepress-blog/assets/js/2.c3a99807.js" defer></script><script src="/vuepress-blog/assets/js/1.c178cf32.js" defer></script><script src="/vuepress-blog/assets/js/67.45bf8f7c.js" defer></script>
  </body>
</html>
