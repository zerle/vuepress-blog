(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{487:function(t,s,a){t.exports=a.p+"assets/img/02.8147ce8f.jpg"},488:function(t,s){t.exports="data:image/jpeg;base64,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"},489:function(t,s,a){t.exports=a.p+"assets/img/04.7ba9e31b.jpg"},490:function(t,s,a){t.exports=a.p+"assets/img/05.371f091f.jpg"},536:function(t,s,a){"use strict";a.r(s);var n=a(2),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("「 如何优雅的使用VUE? 」不可不知的VUE实战技巧")]),t._v(" "),s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),s("p",[t._v("在大家都会用vue的时代，我们又如何去区别是新手小白还是资深vue玩家呢? 如何让自己与刚学vue的人拉开差距呢? 其实，很多人对于vue只停留在基础使用。想要提升自己，就应该想办法将其运用到更高的层次。")]),t._v(" "),s("p",[t._v("本文会从以下三个方面，来进阶我们对vue的运用能力\n组件 : 全局组件注册\nRender函数 : 拯救繁乱的template\nVue权限控制 : 高精度全局权限控制")]),t._v(" "),s("h2",{attrs:{id:"_1-「全局组件注册」"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-「全局组件注册」"}},[t._v("#")]),t._v(" 1 -「全局组件注册」")]),t._v(" "),s("p",[t._v("组件是我们非常常用的东西，很多人使用组件都是通过一个一个文件去引用和注册。如果一个组件在整个项目里面的使用次数较多，每一次使用都需要引用并注册，就会显得特别麻烦")]),t._v(" "),s("p",[t._v("一般组件应用弊端\n傻瓜式，太笨拙\n繁琐，低效")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("I am HelloWorld"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Child"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Child"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" Child1 from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./child1.vue'")]),t._v("   // 引入\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'HelloWorld'")]),t._v(",\n  "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    return"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n  components:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("   // 注册\n    Child1\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n  props: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    msg: String\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n  methods:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("style scoped "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("lang")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"less"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/style"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("当我们在项目需要重复多次使用该组件，会导致出现很多重复的引入和注册代码，既繁琐又不雅观。因此我们可以通过一个全局的Js文件来管理，将需要多次使用的组件进行全局注册")]),t._v(" "),s("h3",{attrs:{id:"创建全局-js文件管理全局组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建全局-js文件管理全局组件"}},[t._v("#")]),t._v(" 创建全局.js文件管理全局组件")]),t._v(" "),s("p",[t._v("{% asset_img 01.jpg This is an image %}")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" - globalComponent.js\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" Vue from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v(" // 引入vue\n\n// 处理首字母大写 abc "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Abc\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" changeStr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" str.charAt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".toUpperCase"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" + str.slice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n/*\n    require.context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arg1,arg2,arg3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        arg1 - 读取文件的路径\n        arg2 - 是否遍历文件的子目录\n        arg3 - 匹配文件的正则\n    关于这个Api的用法，建议小伙伴们去查阅一下，用途也比较广泛\n*/\nconst requireComponent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" require.context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),t._v(", false, /"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v(".vue$/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'requireComponent.keys():'")]),t._v(",requireComponent.keys"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v("  // 打印\nrequireComponent.keys"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".forEach"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fileName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    const config "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" requireComponent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fileName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'config:'")]),t._v(",config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  // 打印\n    const componentName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" changeStr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        fileName.replace"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("/^"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("//, "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".replace"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("w+$/, "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   // ./child1.vue "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" child1\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    Vue.component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("componentName, config.default "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" // 动态注册该目录下的所有.vue文件\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" - 将globalComponent.js引入main.js\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" global from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./components/globalComponent'")]),t._v("\n\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" - 使用这类组件不再需要引入和注册，直接标签使用即可\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("I am HelloWorld"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Child"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Child"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n")])])]),s("p",[t._v("运行程序，我们看下是否能够正常显示并分析两句打印")]),t._v(" "),s("p",[s("img",{attrs:{src:a(487),alt:""}})]),t._v(" "),s("h3",{attrs:{id:"extra-路由分区以及动态添加路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#extra-路由分区以及动态添加路由"}},[t._v("#")]),t._v(" Extra： 路由分区以及动态添加路由")]),t._v(" "),s("p",[t._v("假设我们有很多路由，每一个路由都通过傻瓜式的引入方式，会导致整个项目代码量增多，繁琐，更重要的一点是增加后期维护的难度。因此我们也可以通过上面类似的方式，对路由的引入和使用进行管理，实现分区引入路由，将不同功能下的路由进行区分，通过动态的方式进行引入，即方便快捷又增加可维护")]),t._v(" "),s("h3",{attrs:{id:"创建专门的路由-js文件管理所有的路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建专门的路由-js文件管理所有的路由"}},[t._v("#")]),t._v(" 创建专门的路由.js文件管理所有的路由")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("总路由管理文件 - index.js\n\n分区路由\n    - index.routes.js\n    - login.routes.js\n\n在大型项目中，往往会有很多互不关联的模块，例如电商平台中的商城，个人信息，这种情况下就可以对路由进行分区\n\n")])])]),s("p",[s("img",{attrs:{src:a(488),alt:""}})]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// 分区路由文件写法\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    path:"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/index'")]),t._v(",\n    name:"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Index'")]),t._v(",\n    component: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" import"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../views/Index.vue'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",  // 懒加载式引入，当跳转到时才进行引入chunk\n    children: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("\n// 总路由管理文件 index.js 写法\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" Vue from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" VueRouter from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue-router'")]),t._v("\n\nVue.use"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("VueRouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nconst routerList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  // 路由数组 - 存放所有路由\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" importAll"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("routerArr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    // 该函数用于将所有分区路由中的路由添加到路由数组\n    routerArr.keys"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".forEach"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" key "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        routerList.push"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("routerArr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".default"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nimportAll"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("require.context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),t._v(",true,/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v(".routes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v(".js/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v("\n\nconst routes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".routerList\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\nconst router "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" new VueRouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    routes\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default router\n\n")])])]),s("p",[t._v("运行程序，我们看下是否能够正常显示并分析两句打印")]),t._v(" "),s("p",[s("img",{attrs:{src:a(489),alt:""}})]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("优化之后的代码，会更灵活，更具有观赏性，既便捷高效，又方便维护\n")])])]),s("h2",{attrs:{id:"_2-「拯救繁乱的template」"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-「拯救繁乱的template」"}},[t._v("#")]),t._v(" 2 -「拯救繁乱的template」")]),t._v(" "),s("p",[t._v("很多人在写组件的时候，会依赖脚手架中的"),void 0,t._v("标签，其实template也存在一定的缺陷，例如：")],2),t._v(" "),s("p",[t._v("template里存在一值多判断\n过多使用template会使代码冗余，杂乱")]),t._v(" "),s("p",[t._v("`` bash\nVUE给我们提供了一个render函数，我们可以通过这个函数巧妙的解决template造成的问题")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("\n### 实战 - 处理多个button\n\n``` bash\n<template>\n  <div>\n    <h1>I am Home</h1>\n    \x3c!-- 假设按钮有多种类型,通过value来显示不同类型 --\x3e\n    <div v-if='value === 1'>\n      <button>button1</button>\n    </div>\n    <div v-else-if='value === 2'>\n      <button>button2</button>\n    </div>\n    <div v-else>\n      <button>button3</button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Home',\n  data(){\n    return{\n        value:1\n    }\n  },\n  methods:{\n  }\n}\n<\/script>\n\n<style scoped lang=\"less\">\n</style>\n\n")])])]),s("p",[t._v("上面这种写法，当出现多种类型的button，就会显得杂乱无章，当然，很多人会选择去封装一个button组件，那么这个组件的封装，又是一个技巧点，利用VUE的render函数，减少不必要的template，因此ru我们可以这样写")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// 创建一个button.vue文件 写法如下\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    props:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        type:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            type:String,\n            default:"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'normal'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n        text:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            type:String,\n            default:"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'button'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n    render"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        /*\n            h 类似于 createElement， 接受2个参数\n            "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" - 元素\n            "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" - 选项\n         */\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" h"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'button'")]),t._v(","),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            // 相当于 v-bind:class\n            class:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                btn:true,\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'btn-success'")]),t._v(":this.type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'success'")]),t._v(",\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'btn-danger'")]),t._v(":this.type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'danger'")]),t._v(",\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'btn-warning'")]),t._v(":this.type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'warning'")]),t._v(",\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'btn-normal'")]),t._v(":this.type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'normal'")]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n            domProps:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                innerText: this.text "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'默认'")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n            on:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                click:this.handleClick\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n    methods:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("handleClick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            this."),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$emit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myClick'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("style scoped"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n.btn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    width: 100px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    height:40px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    line-height:40px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    border:0px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    border-radius:5px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    color:"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ffff;")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n.btn-success"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    background:"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#2ecc71;")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n.btn-danger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    background:"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#e74c3c;")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n.btn-warning"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    background:"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#f39c12;")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n.btn-normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    background:"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#bdc3c7;")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/style"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("//  引入\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("I am Home"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("-- 按钮根据value显示不同类型的button --"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'success'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("text")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'button1'")]),t._v(" @myClick"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'...'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" Button from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./button.vue'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Home'")]),t._v(",\n  "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    return"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        value:1\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n  components:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Button\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n  methods:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("style scoped "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("lang")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"less"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/style"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n\n")])])]),s("p",[t._v("上面这种写法，根据value来显示不同类型的button，我们只需要通过value去修改type,text等，就可以实现这一目的，而不需要去创建多个button，通过v-if去判断")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("优化之后的代码，避免了一值多判断的缺点，减少冗余，更加灵活， 这种方式较适合业务简单，使用次数多的组件\n\n")])])]),s("h2",{attrs:{id:"_3-「高精度全局权限处理」"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-「高精度全局权限处理」"}},[t._v("#")]),t._v(" 3 -「高精度全局权限处理」")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("权限的控制由前端处理的场景很多，例如根据后台返回内容，判断该人是否对此功能有权限，进而去修改元素v-if / v-show，这种情况下，当这个功能在多处地方出现，就会导致我们做很多很多不必要的重复代码，如果判断条件繁琐的情况，更加冗余，代码量也会增加很多。因此我们可以造一个小车轮，挂在全局上对权限进行处理\n\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("/* \n    在项目里新建一个common文件夹用于存放全局 .js 文件\n    这种全局文件夹做法相当普遍，一般项目里都应该有这样一个文件夹来管理全局的东西\n*/\n\n// common/jurisdiction.js  用于存放与权限相关的全局函数/变量\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" checkJurisdiction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    // 权限数组\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("let")]),t._v(" jurisdictionList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1'")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2'")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3'")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'5'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("let")]),t._v(" index "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" jurisdictionList.indexOf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index:'")]),t._v(",index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" -1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        // 有权限\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        // 无权限\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// 将全局权限Js挂载到全局中 \n// main.js\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" checkJurisdiction "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./common/jurisdiction'")]),t._v("\n\n// 优雅操作 - VUE自定义指令\nVue.directive"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'permission'")]),t._v(","),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  inserted"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el, binding"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    // inserted → 元素插入的时候\n    \n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("let")]),t._v(" permission "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" binding.value // 获取到 v-permission的值\n\n    if"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("permission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("let")]),t._v(" hasPermission "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" checkJurisdiction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("permission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      if"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("hasPermission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        // 没有权限 移除Dom元素\n        el.parentNode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" el.parentNode.removeChild"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("else"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      throw new Error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'需要传key'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// 使用方式\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("I am Home"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("-- 按钮根据value --"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div v-permission"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"'10'\"")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("权限"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div v-permission"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"'5'\"")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("权限"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n// 无需再通过value去判断，直接通过v-permission的值进行判断即可\n\n\n")])])]),s("p",[t._v("运行程序，我们看下是否能够正常显示并分析打印")]),t._v(" "),s("p",[s("img",{attrs:{src:a(490),alt:""}})]),t._v(" "),s("p",[t._v("可以看到 v-permission = \"'10'\"是没有权限且不显示，v-permission = \"'5'\"是具有权限且显示")])])}),[],!1,null,null,null);s.default=r.exports}}]);