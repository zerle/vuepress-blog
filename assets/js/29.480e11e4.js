(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{479:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA1EAAAJACAYAAABseOwgAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AAB8ISURBVHic7d19jJ51ne/xz2xqrFKYHvZ4ehZrK52CxG2pkfCQQl0gSmy11ehZxJQG/7HEpNl2WVZJavzjBBKfDktNE0P5R1JY3a4YpVJOiikcqQ1CMJZWwoFOcWrBM2ezbAeK9kSTOX/c992556kz3z7NTOf1Skjnvu/ruu6rJD688/1dv+no7+/vDwAAAOPyFxN9AwAAAFOJiAIAACgQUQAAAAUiCgAAoOCkI+rApmvT0dGRjo6O3P746bwlAACAyeskI+pAHtu25/irLXdvyoHTdEMAAACT2clF1IHHsm1PkqVLszRJ9mzLYyoKAACYBk4qog48ti17kiy9+cF8dW2S7Mm2QRX1eG7v6EhHx+15/PjPQ5f+jecYAACAyeUkIqq1lG9pbv7Ewiz/9NokyZ5tj42wpG9/7r52Rba0vbNlxbXZdKB6DAAAwORQj6jHv5UNjTFUPrEwyfJPpzGMGmlJ354s+mp/+vv709+/I83cGjK1Gs8xAAAAk0M5oh7/cXNmtGdDLunoSEdHa4o0UviszaeXt35enubQ6iSOAQAAmByKEfV4frxl9E+HL+nbkh+3nm86sCl3N89ddOnC4jEAAACTQy2iHv9xc+q0Njv6W0vw+tP/yn2j7tK3ZUVzw4hLNmRP89yBydP4jwEAAJgMShF1fCnf2k9nUOMsXH98l74N32rfWm9tdrQCq/W6//7B547rGAAAgMlhRuXg5ff3p//+8XzWFlIL1+cX/etPfOHxHAMAADAJnNwv2wUAAJimRBQAAEBBR39/f/9E3wQAAMBUYRIFAABQIKIAAAAKRBQAAEDBmFucd3R0nI37AAAAOGtOZWsIkygAAIACEQUAAFAgogAAAApEFAAAQMGYG0uMxO/nBQAAporTvVmeSRQAAECBiAIAACgQUQAAAAUiCgAAoEBEAQAAFJzU7nwnsnPjLaf7kgAAAGO66Z4fnJXvMYkCAAAoEFEAAAAFIgoAAKBARAEAABSc9o0lRnK2HvACAACmh4nc0M4kCgAAoEBEAQAAFIgoAACAAhEFAABQIKIAAAAKRBQAAECBiAIAACgQUQAAAAUiCgAAoEBEAQAAFIgoAACAAhEFAABQIKIAAAAKRBQAAECBiAIAACgQUQAAAAUiCgAAoEBEAQAAFIgoAACAAhEFAABQIKIAAAAKRBQAAECBiAIAACgQUQAAAAUiCgAAoEBEAQAAFIgoAACAAhEFAABQIKIAAAAKRBQAAECBiAIAACgQUQAAAAUiCgAAoEBEAQAAFIgoAACAAhEFAABQIKIAAAAKRBQAAECBiAIAACgQUQAAAAUiCgAAoEBEAQAAFIgoAACAAhEFcI7q/ZdbsvM7P8nRwjlHn/pKdm68JXtfbH/3uezdWL8WAJyrZkz0DQBMHq+n+zt3pLs3mbP6B1nywbaPXtycnQ/vTi7/h9z0uSvPzNf/20+y577v52iuy5J71mXOKV6r+4WkdZGjT30le57oGeHA9u96Lt1P9CS5Lv/1g61/F9dlyT1Xn8qdAMA5R0QBnIN6dzVj7O8+lVnJ8QnSQBwOBONxL/4yvUlmfewzmZPX8n96k8x5X847y/cOAJOdiAI417y4OXtfaMTQeU99JTuf6MmsOfPHPK133+4kyXn/5aLkxR+lN0l6v589G1sHfD97Nn4/STLrY/dm6fUXnZn7B4BJTkQBnILef7kle19ovZqfrg3fSNd7RvosybBles9l78b/0YiVzE/X6qXF72hNkxrn9j78/Ry9/B+yJI0YOvrEHdnT/N7z5uzO0d6k9+FbsnOkL2kt/0vzuj/b3Xa/zfuc8/ksbU62AGA6E1EAIxg1No4bYTlcetJ931eSDd9I13tez9Heoefszt7vvK8ZIu0B1Tz34aHPLI31HW33+7PvDyzZ+9wPctPnWtefn64N6zLnN79Lb3pGXc7XWP43YNac+cmcq0/tuSwAOEeJKICT8eKPmgEyMF1qbd7Q+5vX03X9Ren6ux+k6/gJzajp/V3eTjKr+fzRoOlUa/OKcX9H68Ce5PJ7c1Pb8rqjT/0wvUnmrG7EVm1XvYsy53PfyE2lcwBg+hBRACMYdXe+YXZn78aR3h9pOd+Ao//3d40fLm+b9rznfYM2gRjPdzTMz5y/bns+6d9+kheaO/E1JmrXpetjaXs93HlzGsd0P7E7GTYla/2FBp6JiqV9AExjIgrgVIwWE8c3d2htwDBKmLzwy/R+7srGlOk3e0aeGI0aLK+PeEsD1xl4furoU19Jd0bfnW/W9esy68XN6U6SXJkl9/yg7YqeiQKAdiIK4GR88OrMye70tk9nkuPBk+ak6egTd2TnE8NPn/XXSzPriZ4cPdGUaYzvGC1mZl3/jdx0/Un9rQCAcfiLib4BgKnpyiy55950jbLzwqzr1w/6bNbHPj94k4b3fCpLN3y+LYSuy5JBr8f+jhN7Pd3fuSU7N96Snd/5Sd4+mUsAACPq6O/v7z/hAR0dw9470Sk7N94y7L2bBi0LAeBMajyLNXgp354nhu7816Y12Wo+9zXseTDL+QCYhCrdUW2asYgoAABgypnIiLKcDwAAoEBEAQAAFIgoAACAAhEFAABQIKIAAAAKRBQAAECBiAIAACgQUQAAAAUiCgAAoEBEAQAAFIgoAACAAhEFAABQIKIAAAAKRBQAAECBiAIAACgQUQAAAAUiCgAAoEBEAQAAFIgoAACAAhEFAABQIKIAAAAKRBQAAECBiAIAACgQUQAAAAUiCgAAoEBEAQAAFIgoAACAAhEFAABQIKIAAAAKRBQAAECBiAIAACgQUQAAAAUiCgAAoEBEAQAAFIgoAACAAhEFAABQIKIAAAAKRBQAAECBiAIAACgQUQAAAAUiCgAAoEBEAQAAFIgoAACAAhEFAABQIKIAAAAKRBQAAECBiAIAACgQUQAAAAUiCgAAoGDG2fiSnRtvORtfAwAAcMaZRAEAABSIKAAAgAIRBQAAUCCiAAAACjr6+/v7T3hAR8ew98Y4BQAAYNI43U1jEgUAAFAgogAAAApEFAAAQIGIAgAAKJhxyld4tvM03Aacw67qm+g7AADgNDKJAgAAKBBRAAAABae+nA84aV2PrpzoWwAAOKd0r9p+xr/DJAoAAKDgzEyiPEjPdGWjFQCAc55JFAAAQIGIAgAAKLCxBEwyZ+NhSACAc8FEbdJlEgUAAFAgogAAAApEFAAAQIGIAgAAKBBRAAAABSIKAACgQEQBAAAUiCgAAIACEQUAAFAgogAAAApEFAAAQIGIAgAAKBBRAAAABSIKAACgQEQBZ92u51em66kf5tXCOa++vD5dj67Ml3/f/u4v8+VH69cCADgVMyb6BoCp7Jf58qN355HckAdW3ZEbx3PKWz/MpteSXNB4+erL6/PRlw6OcGD7NX+Z7750MMkN+fhfHc4DT30pX3/zhjyw6trT89cAACgwiQLOql0vP5j9uSEPXP/fcnHb+5+9cnu6V21P96rv5q4Lhpz0+1/kkSSLLrs5N+a1vPJmkgvmDTofAOBsMYkCTsHV+eaq7fnmeA///b354muNGLr45fXpeulgFl2wYMzTdr3+ZJLkA+fPTX6/LY8kyZsP5qOPNg9488F89NEHkySLLvtufnLp3OpfBABg3EQUTBvtS++uzf989O5GjLz3q+m+4ursen5lvvha48jPXrk93/yrxs/t7zcMXmY3aDnfWz/Mp558MPsvuC0/uyLZ8OSD2d/+Hc0Y2v/Sl/LR5rU+cP6T2f9m8shzKxv3M1Rr+V+S5HAe+N9Ptt1D8/svuC0/GzLZAgA4Uyzng2mnJ5ueunsgWF67O596av2gUHrkuXuzK0lyON1vDT3/yXxxzI0cnh4IqCR57Z/zwFvJjVdsT/eqr+azSZIFueuGO/Kl8xuTqNGW8zWW/w3oOn9B8t5rx/f8FQDAGSCiYNo5mA98oBEsD7y38c7+LMvPVm1P9w23ZVGSpKcZT3PzxetbcdMWQG8eOnFEvZl88ob2YDqYV442Pnr15X/OI0k+e+WmfPH86r3PzY1XbEr3FVdXTwQAOG0s54Np54Z8vLlU7+LzFyQ5mEUXXdNYCnf++/KBZNDkZ/hyvnG4YFk+en6SXJ2Pvzd5pHX+Wz/MhuZOfI3lezfkrsvS9nq4i89vHPP1l57MwPLBIdqeiYqlfQDAGWYSBYzu+EYQ3x08iTpJr/7+6WagLchdN2xP96o7ms9Gjb6c7+JL72ibWDU2shg2GbvgtsYkbdX2dAsoAOAMM4kCRvXqWz1JGhtBdL106te7+NJN6b701K8DADCRTKKAUV186T8Omgotuuy2U5pENRzOA0+tTNejK9M15gYVAACTT0d/f3//CQ/o6Bj23qBTnu0cftJVfad8YzAlFf/z0PXoymHvda/afjrvaFJpPF+1IHfd0NhU4tWX1+ejzWekRtR6vun396bruScHbb3eYItzAJjOxvv/pcZsmiIRBaeTiAIAOGsmKqIs5wMAACgQUQAAAAUiCgAAoEBEAQAAFIgoAACAAr9sF6aojq29E30LAABnXP+aORN9C8OYRAEAABSIKAAAgAIRBQAAUCCiAAAACmwsAeeQyfjgJQDAeE2VjbNMogAAAApEFAAAQIGIAgAAKBBRAAAABSIKAACgQEQBAAAUiCgAAIACEQUAAFAgogAAAApEFAAAQIGIAgAAKBBRAAAABSIKAACgQEQBAAAUiCgAAIACEQUAAFAgogAAAApEFAAAQIGIAgAAKBBRAAAABSIKAACgQEQBAAAUiCgAAIACEQUAAFAgogAAAApEFAAAQIGIAgAAKBBRAAAABSIKAACgQEQBAAAUiCgAAIACEQUAAFAgogAAAApEFAAAQIGIAgAAKBBRAAAABSIKAACgQEQBAAAUiCgAAIACEQUAAFAgogAAAApEFAAAQIGIAgAAKBBRAAAABSIKYIjHn+5Nx/a3c6BwzoF9b6Rja29uP9T+7rHcvrV+LQBgchNRwBTVDJStfXl8zGPeyKa+cV627+3c/duBl604Gv5P+/cey7d+/ackM/PpeX/Opu1j3RcAMJWJKGBKGHnSUz9mLI+/cDR7MjM7Vp6XhW3vr/2bOelfMyf9a/4y980ectKh/5ctSZZ+6Lwsz5/z4pEks2fkkpO/DQBgEpsx0TcAMB6vHPnTkHdm5v41M3P/CY8pOtSXFb9txNAl+95Ix6//lKWz3zHmaY/3HEuSLOqckRx6O1uS5MjRXLK1ecCRo7lk69EkydIP/WV+sdh/9QLAVOZ/yYFJb9P23mw40vh5y//qzZbMzI4178yPt/Y1fz4vL2//9xGPGcnjT/dmxW9br96R+1ZdmPWdAzG059f/3pwizcyi2cey50jrmiMYtPzvz9m091iSmdmxpjPLcyy3b+3Lltmz8sqQyRYAMHVZzgdMI43nlQYCKkn+lA2PNp6ZWr5sTvrXdGZtkkZcdeYfm5Oo0ZbzNZb/Dbh09juS978zy8/0XwUAmDAiCpj01q+ckx3vb/zciJnOIZEyYxzHJDn0dnNaNTM71jSi6JUPvSPJn7Lt0J+TJAf2/SFbkqz9m8Z0qmZGli+7MP3LZlZPBACmEMv5gGnoWFZsPTb87b63c9uvG89VtZYE3vehtL0e7pLZjWM2/PpY0lq+N/SgtmeiYmkfAEx5IgqYfkYJmQP73mwuzRt4TurAvjeyIY3p1v3zksaSwIHnrxYu7sz6Q33ZkGT4ZheeiQKAc5GIAqaUsTaNOOEx896ZtTmWLe2ToWQgqhZfmP7FZ+jGAYBzhmeigClh+eWzsvSUj5mZ+0f6PU+DtH5Zbm86tr+dV6o3CgCc80yigKmh87z8Ys15g95aPuT3RI3rmOYmFOtH+IrG1ufvyH2r5qS/uZTvkkHPSLU7lhXbZ1imBwDTkIgCaFq+bE76lw28Hvfyvnmd6V8z0lZ+w38hMAAw9VnOBwAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBgxkTfAHD6dGztnehbAAA455lEAQAAFIgoAACAAhEFAABQIKIAAAAKbCwBU1T/mjkTfQsAANOSSRQAAECBiAIAACgQUQAAAAUiCgAAoEBEAQAAFIgoAACAAlucwzngoRUPT/QtAACcVrfuWD3RtzAqkygAAIACEQUAAFAgogAAAApEFAAAQIGNJeAcNZkfxgQAaDfVNskyiQIAACgQUQAAAAUiCgAAoEBEAQAAFIgoAACAAhEFAABQIKIAAAAKRBQAAECBiAIAACgQUQAAAAUiCgAAoEBEAQAAFIgoAACAAhEFAABQIKIAAAAKRBQAAECBiAIAACgQUQAAAAUiCgAAoEBEAQAAFIgoAACAAhEFAABQIKIAAAAKRBQAAECBiAIAACgQUQAAAAUiCgAAoEBEAQAAFIgoAACAAhEFAABQIKIAAAAKRBQAAECBiAIAACgQUQAAAAUiCgAAoEBETTYHOpP9m2vnvH5j8mxn8kb7mzsb71WvBQAAnJCIOinNQHl23eiH/HHz2MeMdE57CLXiaNg/7dfcmRx+Psma5MLuZH/xOwEAgJIZE30DtHltY5I1yaIhEbSwL7kwSbqT/R9O/tD22RuPNv6c+/eNz/+Q5N2XnY27BQCAaUlEnZSbkqv6Tu8l31jXmELN/fvGBOrw88m7rxjHeVsbf87sSt74p8bPf9iYPJu2nzc2fp77q+SirtN73wAAMM2IqANDnyVak1zV9hzRG+uSA1sHXi/sSy7cmTz7t0OObb2XJFckCz8zju+7Ilm8K3lXBmLo8IcH7mPm1sZk6UDnyNcatPyvO3l9a9s9Ne/n3fcMn2wBAAAnbZo/E9WdHBv63taBzRj+uHlwQI2qPaCS5PnkwMbh37V/aLA9n+y7MfljGnF21b82378iWbx5YBK1sK8x+brqV8m7205/bch3zLwiuXDVOO4XAAA4WdM8orqSRa1AaYuYP7zU+POPzT8v/NeBYy4c4TKt55KyZuC4hWuGHPNPzWeZ2o6Ze0WS55P/6G4c8/rXG38ubE6nqn+XhbuShTdVTwQAAAos5xu2nK/NhauSbE3e+NvGM0ajLY079mLb8U3vGm1zh63JsyNMt/64ubnLXvOesiaZ23aPI3n3msZk6vDWDJ+GNbU/E2VpHwAAnLLpPYk6vpnDrwZPoo67afBU6Q8bT/x7l45PpJL8x49GPubd97RNvpr/XNTVdvwVyeK+wc9ljbac76LNycwh9zp0qtb+fQIKJr1D3344D63bn8rWNX3bHstDKx7O088MulKeXlG/FgAwtuk9iWpNkA5/ODk8wudDN5UYzX/6THOKNMqUKRmYarVPhpKB6dBFu5KLivcPnFsO788Lu5IsaLzs2/ZYtn/vyAgHzs9HdlyXeUmSQ3nhe0eSzM/8a/qyb91Ps/fg/Hxkx7yzddcAMO1M70nURQ8MnuzMvWeME0b4HU5J8q51yeJ7Bh+3eOi1bho+SRqm9ctyO0888QLOqpEnPaf/mod+sDdHMj8f2bwo7Yt4539tdW7dsTq37vhkliwYcqFnDqUnyewvLM689OXIwSQLZmeURcAAwGkwvSdRrY0l2l3UFkkXbh68rO64EX5P1LvWJVcNCayhr0f6vpYDnckbzaV878rA74pqfTbI1mT/ZZbnwVnSd2ikadBpvuYzu/PzXY0Y6tz2WB763pHMXjB7zOsc2t2TJOmc15k8sy89SXJwb7avaB5wcG+2r9ibJJn9hU/mkzfLKwA4VdM8oiaRhUNjbpzL+yqhB+ewQ99+OD/fNfB6/tdWZ9k1I3+WBUuysjXtObw/P127N0cWLMnKu5Kn1+7NkSS5cVluvbOzuTyucVrPf384PW1L6QZfd3aWbPlEFs89uWt+8MZGDB353k+zvfE3SOf7e3LkYOuYEbSW/yVJ+rLvoZ4MLPU7lKdXPJ2e9r8rAHBaTO/lfMA5oC/71g2JpLE+O7g321fszqFBb/YMxE6S7NqXfSM9KznqdY9k79rHhpwz/mv+5ztX59YdyzI/SSPIrsvl8xqTqNGW8zWW/w3ofP/s5MZ58TQUAJxZJlHA1PbMvuZUp22zhcP7G7Fy/LO2KVFrQpOe9DxzXea1fpXAwWT+ltX55NzW50dy5HBnlm1enc7mxOn4dOuZ3XloyHe2NoHo2dOXxUtP4ppJ+rY1luPN/1rjXmuz5M7Mu/MTufUU/lUCAOMjooApre9QMzXaJzBzFzUiZFvrs8XNgEqSeZl/Y9Kzq3lu6/0F85tBNfD52Hry8xUjLrSrX/Pw/jzd3ImvtcRvyRfS9nq4znmNY/Z+rycDcThE2zNRsbQPAE4LEQVMaZ3zOpMcSXYdyqE757VNohZl8Uif5dDxmGmc+7uT//LRouRw/Zp9e3qaS/MGpmZ92x7L3rRPq/oGPU/VefN1WfzM7jQSaV6W7VidZcev6JkoADhTRBQwtV0zL/Mbi/MGTYXmf23RqJ8lSRYsyeXXZOTfETeKgY0lmtdtn/I0r1kNloFrfiK33lw4EQCYMDaWAKa4eVk27Pcnzc7suaN9lsYueYXYmXfLkgzebHyU6xYMv2bS2rDioRUP56F1+4vPRAEAZ4tJFHAO6MzizauzuPxZkrmL8skdiwa9Ne/O1bn1zhMfc8LrnsQ1D3374Ty0a3aWbFmdW+cObFSRjPRMVE9+vm62ZXoAMEFEFMAkMDSyOm8e5/K+a67LrTuuG+mKQ56RAgBOF8v5AAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACkQUAABAgYgCAAAoEFEAAAAFIgoAAKBARAEAABSIKAAAgAIRBQAAUCCiAAAACmZM9A0AZ8ZDKx6e6FsAADgnmUQBAAAUiCgAAIACEQUAAFAgogAAAApsLAHngFt3rJ7oWwAAmDZMogAAAApEFAAAQIGIAgAAKPBMFEwyXY+unOhbAADgBEyiAAAACs7MJOrZzjNyWQAAgIlmEgUAAFAgogAAAAo6+vv7+094QEfHsPcGnWLpHpzYVX0TfQcAANPamE1TZBIFAABQcOqTKAAAgEnMJAoAAGACndQW5yOVHAAAwHRgEgUAAFAgogAAAApEFAAAQIGIAgAAKBhzYwnbmQMAAAwwiQIAACgQUQAAAAUiCgAAoEBEAQAAFIgoAACAAhEFAABQIKIAAAAKRBQAAECBiAIAACgQUQAAAAUiCgAAoEBEAQAAFIgoAACAgv8Pyo7dGcBpatQAAAAASUVORK5CYII="},480:function(t,s,a){t.exports=a.p+"assets/img/02.12b9a074.png"},481:function(t,s,a){t.exports=a.p+"assets/img/03.c8702f2f.png"},482:function(t,s,a){t.exports=a.p+"assets/img/04.60e43f59.png"},483:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAABXCAYAAABfoTq7AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AAAUXSURBVHic7d07cqNaFIXhxa0einQDl0eARiA5uVGnzlAoEmcOO3MCocmcduTEaATSCFwdNMzl3AD0AG29LNmA+b8qqrpAbR9cLDZH9tnynHNOACr+aXoAQBsRDMBAMAADwQAMBAMwEAzAQDAAA8EADAQDMBAMwEAwAAPBAAwEAzAQDMBAMAADwQAMBAMwEAzAQDAAA8EADAQDMBAMwEAwAAPB2GuuqedpOv/Y/87jkTzP291GsfLrDhSfgGBcJFc8OnDhB6mcc5stDRoaZxHy7XGOYiOe82n1XD56V/gGCMYVBGnTF/5h8+lE71FWCegyHFbDMZ/KmySbc8ki+cmkt+EgGGvF3d+8kx481n7jZ6fFbLC9Q2kgLX+/ravb/DWR/EgP43LHYKaXyJeSV/UxGgRjJX/T72Wgx+0LaG2g2WOgZXivs7KRTKqPJpPkWqO9uuGNbx/wbzT82qG0AsEozZ9CKXrQeN8Lxg+K/KXCp937ZzLZc+G3Zo5Rk8f6lUj+zzutbgOD2YsihVqfXh7rPpSil5msW8V3RzCk8kLx9fPu0CUw0OyleO6uP3a3fY5RkccaDUMt/UgvleqY6c9yK+TDUMvGBtm8Tgdj9YhyqaJavMh8ito2mOkxkJJfx99yzYqr7IxHqfo7XKPyse3c/Qe+QzwqLng/UrbYrgS54tFEiQKl6wqXFRVyOO3lHEOuoyRVtg/LIucrcOnOgdQFkgvqB7LI+ev9mYv8rdekgZMfuay+39WPf7ViPLLOx7naOZ2wvwc6XTGu4ejcom5VNV4399GdOUY5kf/v5C/6uebTocJlUQ2eWzKm1ms6mZfQpdXioD0Vo8KqDMU+PzLqQiMV45TzcC4NVBtbWWUaqXDN+9F0MC/hGv+UtIFmi+0x5IpHQ4WKlB2dsHyR/K/eJS0nnnZnOL6ibKHZoPhdRxaPNPTCzeEgletriWk6ma1SPlNrtZ17t0wDp/p8JQ0qcyGzkqB1POcav+0CrdP7yTdgIRiAgWAABoIBGAgGYCAYgIFgAAaCARgIBmAgGICBYAAGggEYCMZe53Qi7HZ7HewiGNcwf1K4br2z2/Wvvn19D7MTOxFKdCNcafrv3tvrtJVv9iq+raOR79Twouk0qK0DKdeI1NeGpIF215P0FBVj7WOdCPP4XuFtqudx2YWjhU2bT+lEqPlUkyRQ6p5PX//+jXV6aetVrToRLvZ3Igwn94rvFps2O3ms+/BWqRtv/bubDcrmr4n8KCMUpU5WjGv1k9r2kU6E+dtvLZVo4nnyhn/02JW77U4nwrleE+n2X1V7VbWw+n2Zpp/lzqVr9ZPalkXOl++qj9zGHGNPn6U02r82vA1zjIrVuvbKevbiXFX5GfS7SwjBcMbktNhrTr6rbWY2jcy0p4HC6cGof63VRXru/gPfIfLtJg9lWHZ+Bj1uuNa5YDh35X5Sl3QiXHUAOXDltKNiHOlEeFLXxX7p5BzDlf1Vr+GiToTj52IsLe+9dLwT4VA3vvT+15pR+Lrp4+cANBzMFjv19xgr9jN58xXjxPMoq9/mdeW8o4/lwnW8E2ErlB/RVXT1c3Jte6/2xE6EGj/LZTcaDT2t3++jEyGcc2d3Iswi3+73qiNbT9/p6RI6EQKGTk6+gc9GMAADwQAMBAMwEAzAQDAAA8EADAQDMBAMwEAwAAPBAAwEAzAQDMBAMAADwQAMBAMwEAzAQDAAA8EADAQDMBAMwEAwAAPBAAz/AyLPxTDQTHMrAAAAAElFTkSuQmCC"},484:function(t,s){t.exports="data:image/png;base64,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ICYqAQAAiIlKAAAAYqISAACAmKgEAAAgJioBAACIiUoAAABiohIAAICYqAQAACAmKgEAAIiJSgAAAGKiEgAAgNhQ6wEYTP8zcW89u+OXC67fuv+/64FNDQYCAAAiopJ2Rp+oh1/5q/p86zkAAICYx18BAACIiUoAAABiohIAAICYdyppZ+aJerbzxLwLf15burvqllbzAAAAl01U0o6DegAAoO95/BUAAICYqAQAACAmKgEAAIh5p5J2FhzUU1Vjz9eju+9tMg4AAHD5RCVNfH78p/XoeOspAACAxfL4KwAAADFRCQAAQExUAgAAEBOVAAAAxBzUAwDQQ2Z/NVcjv/xgwfWxL11bu/+owUAAFyEqAQB6zsrav211bWo9BsAl8PgrAAAAMVEJAABATFQCAAAQ804lAEDPOVmbnzs572/vWAK9S1QCAPQcEQn0D4+/AgAAEBOVAAAAxEQlAAAAMVEJAABAzEE9AAA9ZPj2NdW9vfUUAJfOphIAAICYqAQAACAmKgEAAIiJSgAAAGKiEgAAgJioBAAAICYqAQAAiIlKAAAAYqISAACAmKgEAAAgJioBAACIiUoAAABiohIAAICYqAQAACAmKgEAAIiJSgAAAGKiEgAAgJioBAAAICYqAQAAiIlKAAAAYqISAACAmKgEAAAgJioBAACIiUoAAABiohIAAICYqAQAACAmKgEAAIiJSgAAAGKiEgAAgJioBAAAICYqAQAAiIlKAAAAYqISAACAmKgEAAAgJioBAACIiUoAAABiohIAAICYqAQAACAmKgEAAIiJSgAAAGKiEgAAgJioBAAAICYqAQAAiIlKAAAAYqISAACAmKgEAAAgJioBAACIiUoAAABiohIAAICYqAQAACAmKgEAAIiJSgAAAGKiEgAAgJioBAAAICYqAQAAiIlKAAAAYqISAACAmKgEAAAgJioBAACIiUoAAABiohIAAICYqAQAACAmKgEAAIiJSgAAAGKiEgAAgJioBAAAICYqAQAAiIlKAAAAYqISAACAmKgEAAAgJioBAACIiUoAAABiohIAAICYqAQAACAmKgEAAIiJSgAAAGKiEgAAgJioBAAAICYqAQAAiIlKAAAAYqISAACAmKgEAAAgJioBAACIiUoAAABiohIAAICYqAQAACAmKgEAAIiJSgAAAGKiEgAAgJioBAAAICYqAQAAiIlKAAAAYqISAACAmKgEAAAgJioBAACIiUoAAABiohIAAICYqAQAACAmKgEAAIiJSgAAAGKiEgAAgJioBAAAICYqAQAAiIlKAAAAYqISAACAmKgEAAAgJioBAACIiUoAAABiohIAAICYqAQAACAmKgEAAIiJSgAAAGKiEgAAgJioBAAAICYqAQAAiIlKAAAAYqISAACAmKgEAAAgJioBAACIiUoAAABiohIAAICYqAQAACAmKgEAAIiJSgAAAGKiEgAAgJioBAAAIDbUegCWxvObf9R6BAAAYBmyqQQAACAmKgEAAIiJSgAAAGKiEgAAgJiDepahb+z/eusRAACAASEqAYCB0Xnud61HAFh2PP4KAABATFQCAAAQE5UAAADERCUAAAAxB/UAAMtSd9u1rUcAGAg2lQAAAMREJQAAADFRCQAAQExUAgAAEBOVAAAAxEQlAAAAMVEJAABATFQCAAAQE5UAAADERCUAAAAxUQkAAEBMVAIAABATlQAAAMREJQAAADFRCQAAQExUAgAAEBOVAAAAxEQlAAAAMVEJAABATFQCAAAQE5UAAADERCUAAAAxUQkAAEBMVAIAABATlQAAAMREJQAAADFRCQAAQExUAgAAEBOVAAAAxEQlAAAAMVEJAABATFQCAAAQE5UAAADERCUAAAAxUQkAAEBMVAIAABATlQAAAMREJQAAADFRCQAAQExUAgAAEBOVAAAAxEQlAAAAMVEJAABATFQCAAAQE5UAAADERCUAAAAxUQkAAEBMVAIAABATlQAAAMREJQAAADFRCQAAQExUAgAAEBOVAAAAxEQlAAAAMVEJAABATFQCAAAQE5UAAADERCUAAAAxUQkAAEBMVAIAABATlQAAAMSGWg/Qj27ec3/rEQAAAHqCTSUAAAAxUQkAAEBMVAIAABATlQAAAMQc1HMRRx/Y23oEAACAnmVTCQAAQExUAgAAEBOVAAAAxEQlAAAAMVEJAABATFQCAAAQE5UAAADERCUAAAAxUQkAAEBMVAIAABATlQAAAMREJQAAADFRCQAAQExUAgAAEBOVAAAAxEQlAAAAMVEJAABAbKj1AABAH3jxYOsJAOhRNpUAAADERCUAAAAxUQkAAEBMVAIAABBzUA8AcK4tG1pPAEAfsakEAAAgJioBAACIiUoAAABiohIAAICYqAQAACAmKgEAAIiJSgAAAGKiEgAAgJioBAAAICYqAQAAiIlKAAAAYqISAACAmKgEAAAgJioBAACIiUoAAABiohIAAICYqAQAACAmKgEAAIiJSgAAAGKiEgAAgJioBAAAICYqAQAAiIlKAAAAYqISAACAmKgEAAAgJioBAACIiUoAAABiohIAAICYqAQAACAmKgEAAIiJSgAAAGKiEgAAgJioBAAAICYqAQAAiA21HmCx5m4YaT0CAADAwLKpBAAAINb3m0oA6HkHV7eeAAA+MzaVAAAAxEQlAAAAsb56/HXNW0dajwAAAMA8NpUAAADEOt1ut7uoG3Q6C64t8pYAAAA0kPSdTSUAAAAxUQkAAEBMVAIAABATlQAAAMREJQAAADFRCQAAQExUAgAAEBOVAAAAxEQlAAAAMVEJAABATFQCAAAQE5UAAADERCUAAAAxUQkAAEBMVAIAABATlQAAAMREJQAAADFRCQAAQExUAgAAEBOVAAAAxEQlAAAAMVEJAABATFQCAAAQE5UAAADERCUAAAAxUQkAAEBMVAIAABATlQAAAMREJQAAADFRCQAAQExUAgAAEBOVAAAAxEQlAAAAMVEJAABATFQCAAAQE5UAAADERCUAAAAxUQkAAEBMVAIAABATlQAAAMREJQAAADFRCQAAQExUAgAAEBOVAAAAxEQlAAAAMVEJAABATFQCAAAQE5UAAADERCUAAAAxUQkAAEBMVAIAABATlQAAAMREJQAAADFRCQAAQExUAgAAEBv6LG7a6XQ+i9sCAADQY2wqAQAAiIlKAAAAYqISAACAmKgEAAAgtuiDerrd7pWYAwAAgD5kUwkAAEBMVAIAABATlQAAAMREJQAAADFRCQAAQExUAgAAEBOVAAAAxEQlAAAAMVEJAABATFQCAAAQE5UAAADERCUAAAAxUQkAAEBMVAIAABATlQAAAMREJQAAADFRCQAAQExUAgAAEBOVAAAAxEQlAAAAMVEJAABATFQCAAAQ+z8PpSC2ryrDbAAAAABJRU5ErkJggg=="},485:function(t,s,a){t.exports=a.p+"assets/img/07.64002bd4.png"},486:function(t,s,a){t.exports=a.p+"assets/img/08.8eafd9fd.png"},524:function(t,s,a){"use strict";a.r(s);var n=a(2),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("React 作为如今三大框架之一，在进行了短期的学习后，整理了一些笔记，做一下分享,如果有错误，欢迎指出。")]),t._v(" "),s("h3",{attrs:{id:"一、react-简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、react-简介"}},[t._v("#")]),t._v(" 一、React 简介")]),t._v(" "),s("h4",{attrs:{id:"_1-什么是-react"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是-react"}},[t._v("#")]),t._v(" 1. 什么是 React：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("React 是一款由 Facebook开发的用于构造用户界面的Javascript库。\nReact 与Vue相比，vue的语法简单易上手，适用于小而精的项目，但是 React在组件上的复用性与设计性上会胜于vue一筹，适用于大型的项目。\nReact 将页面以一个个组件的方式进行拆分与组装，重复使用提高效率（可见下图）\nReact 对数据的处理与管理比原生更加的清晰。\n")])])]),s("h4",{attrs:{id:"_2-react-的特点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-react-的特点"}},[t._v("#")]),t._v(" 2. React 的特点")]),t._v(" "),s("ul",[s("li",[t._v("1.声明式设计 −React 的每个组件都是通过声明创建，使得页面逻辑更加清晰")])]),t._v(" "),s("img",{attrs:{src:a(479)}}),t._v(" "),s("ul",[s("li",[t._v("2.虚拟 DOM −React 每次渲染页面时会创建一个虚拟 DOM，与现有的 DOM 进行对比，有差异的才进行替换重新渲染，提高了效率。")])]),t._v(" "),s("img",{attrs:{src:a(480)}}),t._v(" "),s("ul",[s("li",[t._v("3.JSX − JSX 是 JavaScript 语法的扩展。React 开发不一定使用 JSX ，但我们建议使用它。")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// 在 javascript中创建元素\nconst DOM "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document.createElement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"h1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" // 真实DOM\nDOM.innerText "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"这是h1标签"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n// 在 jsx中创建元素\nconst VDOM "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("这是h1标签"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v(" // 虚拟DOM\n\n")])])]),s("ul",[s("li",[t._v("4.组件 − 通过 React 构建组件，使得代码更加容易得到复用，能够很好的应用在大项目的开发中。")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// 不必现在就看懂，仅需要知道每个组件都是需要进行声明后才能使用\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" React, "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("PureCompoent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default class Header extends PureCompoent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("header"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("这是头部组件"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/header"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n// ------------------------------------------------\n// 在需要使用 header组件时调用即可重复使用\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" Header from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./Header"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Header"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Header"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("ul",[s("li",[s("ol",{attrs:{start:"5"}},[s("li",[t._v("单向响应的数据流 − React 实现了单向响应的数据流，从而减少了重复代码，这也是它为什么比传统数据绑定更简单。(这个在后面会了解到)")])])])]),t._v(" "),s("h4",{attrs:{id:"_3-安装与使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-安装与使用"}},[t._v("#")]),t._v(" 3.安装与使用")]),t._v(" "),s("ul",[s("li",[t._v("1.使用 cdn")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script crossorigin "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://unpkg.com/react@16/umd/react.development.js"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script crossorigin "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://unpkg.com/react-dom@16/umd/react-dom.development.js"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("ul",[s("li",[t._v("2.通过下载导入 React 包")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../js/react.development.js"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../js/react-dom.development.js"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../js/babel.min.js"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("ul",[s("li",[t._v("3.使用 react 的脚手架 create-react-app 创建项目文件会自带 react")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i create-react-app "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-g")]),t._v("\ncreate-react-app 项目名称\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("注意：使用 react必须使用 babel.js 将 jsx语法转为 js语法 ReactDOM 独立于 React（为了防止React太大太臃肿而拆开）\n")])])]),s("h4",{attrs:{id:"_4-虚拟-dom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-虚拟-dom"}},[t._v("#")]),t._v(" 4. 虚拟 DOM")]),t._v(" "),s("ul",[s("li",[t._v("(1) 关于虚拟 DOM\n虚拟 DOM 的本质就是一个对象，真实 DOM 也是个对象，但虚拟 DOM 的属性更少，更加轻量。")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// 虚拟DOM  \nconst VDOM "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("Hello World"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" // 此处不需要引号，因为不是字符串\n// 真实DOM\nconst TDOM "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document.querySelector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#app"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"虚拟DOM: "')]),t._v(", VDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   // Object\nconsole.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"真实DOM: "')]),t._v(", TDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   // "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"app"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nconsole.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"虚拟DOM类型: "')]),t._v(", typeof VDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  // object\nconsole.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"真实DOM类型: "')]),t._v(", typeof TDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  // object\nconsole.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("VDOM instanceof Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    // "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\nconsole.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TDOM instanceof Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    // "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("虚拟DOM 最终会被 React转为 真实DOM呈现在页面上\n")])])]),s("ul",[s("li",[t._v("(2) 创建虚拟 DOM")])]),t._v(" "),s("p",[t._v("** 1.通过 React 的方法 createElement()方法创建虚拟 DOM")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// React.createElement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("标签名称, 标签属性, 标签内容"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconst VDOM1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React.createElement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"h1"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"This is Title"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("** 2.使用方法一的语法糖创建虚拟 DOM")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("const VDOM2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1 "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("This is Title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"_5-关于-jsx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-关于-jsx"}},[t._v("#")]),t._v(" 5. 关于 JSX")]),t._v(" "),s("p",[t._v("jsx 语法与 javascript 语法非常相似，只有一些需要注意的地方")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// 虚拟DOM  \nconst VDOM "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("  // 使用括号框住 jsx标签表示层级会更加美观些。\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Hello World"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconst myid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HeLlO"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconst content "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Happy New Year"')]),t._v("\nconst students "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"001"')]),t._v(", name: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Tom"')]),t._v(", age: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"002"')]),t._v(", name: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Tim"')]),t._v(", age: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"003"')]),t._v(", name: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Jerry"')]),t._v(", age: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconst VDOM2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h2 "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("className")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("myid.toLowerCase"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("style")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("color: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pink'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("/* 使用 ES6的 map"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 函数进行列表渲染（将数据批量渲染到页面上） */"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            students.map"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("student"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("student.id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("student.name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("---"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("student.age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h5",{attrs:{id:"jsx-语法规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jsx-语法规则"}},[t._v("#")]),t._v(" jsx 语法规则：")]),t._v(" "),s("ul",[s("li",[t._v("定义虚拟 DOM 时不要写引号")]),t._v(" "),s("li",[t._v("标签中混入  js 表达式时要用  {}\n"),s("ul",[s("li",[t._v("表达式会产生一个值，可以放在任何需要值的地方")]),t._v(" "),s("li",[t._v("语句时一串代码，用于处理逻辑用的")])])]),t._v(" "),s("li",[t._v("标签中类名指定不用  class，要用  className")]),t._v(" "),s("li",[t._v("标签中使用内联样式时，要用双括号写法（使用小驼峰写法写 css 样式）")]),t._v(" "),s("li",[t._v("添加事件属性时（如 onclick)，on 后面的单词首字母要大写（如 onClick）")]),t._v(" "),s("li",[t._v("虚拟 DOM 必须只有一个根标签")]),t._v(" "),s("li",[t._v("标签必须闭合")]),t._v(" "),s("li",[t._v("标签开头\n"),s("ul",[s("li",[t._v("标签开头为小写时，会被  jsx 编译为  html 标签，若  html 没有对应同名元素则报错")]),t._v(" "),s("li",[t._v("标签开头为大写时，会被  jsx 识别为组件，若没找到对应组件则")])])])]),t._v(" "),s("h4",{attrs:{id:"_6-渲染到页面上"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-渲染到页面上"}},[t._v("#")]),t._v(" 6. 渲染到页面上")]),t._v(" "),s("p",[t._v("使用 ReactDOM 的 render()方法进行渲染")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("const VDOM "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1 "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("This is a Title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    // 创建虚拟DOM\n// ReactDOM.render"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" 组件"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("虚拟DOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",  要绑定到哪个元素上 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nReactDOM.render"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("VDOM, document.querySelector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#root"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"二、组件的使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、组件的使用"}},[t._v("#")]),t._v(" 二、组件的使用")]),t._v(" "),s("p",[t._v("在 React 中，有两种组件的创建方式，分别为函数式组件和类式组件。其中 类式组件使用频率较高（React 16.8 出现 Hook 后函数式组件也多了起来）")]),t._v(" "),s("h4",{attrs:{id:"函数式组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#函数式组件"}},[t._v("#")]),t._v(" 函数式组件")]),t._v(" "),s("p",[t._v("顾名思义，该组件是由函数来写的")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" Demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    // 定义一个组件，名为 Demo\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("This is a component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    // 返回值为组件的DOM内容\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nReactDOM.render"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Demo/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(", document.querySelector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#root"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v("\n")])])]),s("h5",{attrs:{id:"函数式组件定义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#函数式组件定义"}},[t._v("#")]),t._v(" 函数式组件定义：")]),t._v(" "),s("ul",[s("li",[t._v("函数名称必须大写")]),t._v(" "),s("li",[t._v("调用时以标签方式调用且开头大写")]),t._v(" "),s("li",[t._v("函数式组件的参数为 props")])]),t._v(" "),s("h4",{attrs:{id:"类式组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#类式组件"}},[t._v("#")]),t._v(" 类式组件")]),t._v(" "),s("p",[t._v("该组件通过类来构建，但需要继承 React 自带的一个类 Component。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// 使用 ES6写法创建类式组件，并继承于 React.Component\nclass Demo extends React.Component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    // 添加render"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 函数（必须），返回值为组件的虚拟DOM\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("this"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      // render"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 函数的 this 指向组件的实例对象\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("This is a Title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nReactDOM.render"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Demo/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(", document.querySelector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#root"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h5",{attrs:{id:"类式组件的定义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#类式组件的定义"}},[t._v("#")]),t._v(" 类式组件的定义：")]),t._v(" "),s("ul",[s("li",[t._v("必须继承 React 的内置类 Component")]),t._v(" "),s("li",[t._v("必须包含方法 render()")]),t._v(" "),s("li",[t._v("构造函数 constructor()的参数为 props（后面会讲），如果需要使用 constructor 则必须调用父类的构造函数 super(props)")])]),t._v(" "),s("h5",{attrs:{id:"类式组件挂载时的执行情况"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#类式组件挂载时的执行情况"}},[t._v("#")]),t._v(" 类式组件挂载时的执行情况：")]),t._v(" "),s("ul",[s("li",[t._v("React 解析组件标签，发现了 Demo 组件")]),t._v(" "),s("li",[t._v("发现为类式组件，随后 new 出该类的实例对象，通过实例调用原型对象上的 render 方法")]),t._v(" "),s("li",[t._v("将 render 方法返回的虚拟 DOM 转为真实 DOM，随后呈现到页面中")])]),t._v(" "),s("h5",{attrs:{id:"组件定义的注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#组件定义的注意事项"}},[t._v("#")]),t._v(" 组件定义的注意事项：")]),t._v(" "),s("ul",[s("li",[t._v("类式组件的 render() 返回的组件标签与函数式组件返回的组件标签一定要有一个根标签")]),t._v(" "),s("li",[t._v("都必须以大写字母开头")])]),t._v(" "),s("h4",{attrs:{id:"组件的挂载与卸载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#组件的挂载与卸载"}},[t._v("#")]),t._v(" 组件的挂载与卸载")]),t._v(" "),s("p",[t._v("挂载已经看了很多个了，直接上代码：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// ReactDOM.render"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" 组件, 要绑定在哪个元素上 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nReactDOM.render"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Demo/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(", document.querySelector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#app"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("卸载的代码长点，我也直接放上来了：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// ReactDOM.unmountComponentAtNode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" 要卸载哪个元素上的组件 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nReactDOM.unmountComponentAtNode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" document.querySelector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#app"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("h4",{attrs:{id:"其他小知识"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他小知识"}},[t._v("#")]),t._v(" 其他小知识")]),t._v(" "),s("ul",[s("li",[t._v("包含表单元素的组件分为非受控租价与受控组件\n"),s("ul",[s("li",[t._v("受控组件：表单组件的输入组件随着输入并将内容存储到状态中（随时更新）")]),t._v(" "),s("li",[t._v("非受控组件：表单组件的输入组件的内容在有需求的时候才存储到状态中（即用即取）")])])])]),t._v(" "),s("h3",{attrs:{id:"三、组件的三大属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、组件的三大属性"}},[t._v("#")]),t._v(" 三、组件的三大属性")]),t._v(" "),s("p",[t._v("组件的实质就是个对象，而对象自然有属性，在组件里最常用的三个属性分别是 state、props 和 refs")]),t._v(" "),s("h4",{attrs:{id:"_1-state"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-state"}},[t._v("#")]),t._v(" 1. state")]),t._v(" "),s("p",[t._v("state 即组件的状态，说的明白点就是该组件所存储的（所需要使用的）数据")]),t._v(" "),s("h5",{attrs:{id:"类式组件中的使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#类式组件中的使用"}},[t._v("#")]),t._v(" 类式组件中的使用：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("class Weather extends React.Component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    constructor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        super"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        // this.state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("weather: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Spring"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("     // 也可以在构造函数中定义 state\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("   // 定义 state\n        weather: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"summer"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        // 当前季节为：summer\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("当前季节为："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" this.state.weather "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("使用的时候通过 this.state 调用 state 里的值 类式组件定义 state:")]),t._v(" "),s("ul",[s("li",[t._v("可以在构造函数中初始化 state")]),t._v(" "),s("li",[t._v("可以在类中添加属性 state 来初始化")])]),t._v(" "),s("h5",{attrs:{id:"函数式组件中的使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#函数式组件中的使用"}},[t._v("#")]),t._v(" 函数式组件中的使用")]),t._v(" "),s("ul",[s("li",[t._v("在 React16.8 前，函数式组件并不能有自己的 state（因为会重复初始化数据）")]),t._v(" "),s("li",[t._v("到 React16.8 后，出现了 Hook 方法，使得函数式组件也可以使用 state 特性，先了解即可，后面会教学。")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("Demo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("weather, setWeather"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React.useState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Winter"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("当前季节为："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("weather"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("     // 当前季节为：Winter\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("h5",{attrs:{id:"修改-state"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改-state"}},[t._v("#")]),t._v(" 修改 state")]),t._v(" "),s("p",[t._v("在类式组件的函数中，你会发现直接修改 state 的值，如：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("this.state.count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n")])])]),s("p",[t._v("如果你在页面中使用了 count 这个值，你会发现，这页面咋没变呢？\n梳理一下页面渲染靠的是哪个函数呢？不是靠的 render()函数吗？\n如果你每次直接修改 state 后在调用 render()函数的话，不会显得太麻烦了吗？\n其实 React 也不建议 state 不允许直接修改，而是通过特定的渠道来修改，便是使用在类的原型对象上的方法 setState()")]),t._v(" "),s("h5",{attrs:{id:"setstate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setstate"}},[t._v("#")]),t._v(" setState()")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("this.setState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("partialState, "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("callback"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[t._v("partialState: 需要更新的状态的部分对象")]),t._v(" "),s("li",[t._v("callback: 更新完状态后的回调函数")])]),t._v(" "),s("p",[t._v("setState 有两种写法： 写法 1：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("this.setState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    count: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(",\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("p",[t._v("写法 2：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// 传入一个函数，返回x需要修改成的对象，参数为当前的 state\nthis.setState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count: state.count+1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("使用那种写法，取决于修改的状态是否需要动用到当前的状态")]),t._v(" "),s("h5",{attrs:{id:"forceupdate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#forceupdate"}},[t._v("#")]),t._v(" forceUpdate()")]),t._v(" "),s("p",[t._v("还有一种修改状态的方法，就是 forceUpdate，意思是强制更新，即强制更新状态。\n参数为更新状态完成后的回调函数")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("this.forceUpdate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("callback"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("setState 更新与 forceUpdate 更新都是一种合并操作，而不是替换操作")]),t._v(" "),s("ul",[s("li",[t._v("在执行 setState 操作后，React 会自动帮我们调用一次 render()")]),t._v(" "),s("li",[t._v("render() 的执行次数便是 1+n (1 为初始化时的自动调用，n 为状态更新的次数（即调用 setState 或 forceUpdate 的次数）)")]),t._v(" "),s("li",[t._v("尽量少用或不用 forceUpdate")])]),t._v(" "),s("h4",{attrs:{id:"_2-props"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-props"}},[t._v("#")]),t._v(" 2. props")]),t._v(" "),s("p",[t._v("与 state 不同，state 是组件自身的状态（数据），而 props 则是外部传入给自己的状态（数据）\nprops 在组件内修改，必须由谁传入的即由谁修改")]),t._v(" "),s("h5",{attrs:{id:"类式组件中使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#类式组件中使用"}},[t._v("#")]),t._v(" 类式组件中使用")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("class Person extends React.component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    constructor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("     // 还记得构造函数的参数吗，也能够获取 props\n        super"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    // 可以使用静态属性 propTyps 来限制props\n    static propTypes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         // 在 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v("版本前，通过使用React自带的PropTypess属性传递值\n        // name: React.PropTypes.string.isRequired,\n\n        // "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v("版本后，PropTypes被单独移出 React作为单独的个体，需要另外导入\n        name: PropTypes.string.isRequired, // 字符串类型，且必须传值\n        sex: PropTypes.string,  // 字符串类型\n        age: PropTypes.number,  // 数字类型\n        speak: PropTypes.func,  // 函数类型\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    // 可以使用静态属性 defaultProps 来设置某些 prop 的默认值\n    static defaultProps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        sex: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"男"')]),t._v(",   // 设置 sex 的 prop 默认值为 “男”\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name, sex, age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" this.props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    // 从 props中获取值\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("姓名："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("性别："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("sex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("年龄："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n// ReactDOM.render"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Person "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Tom"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sex")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"男"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"16"')]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(", document.querySelector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#root"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    // 以类似属性的方式传递 props值\n\nReactDOM.render"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Person "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" /"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(", document.querySelector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#root"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v("；\n// 可以用扩展运算符来传递 props值\n\n")])])]),s("p",[t._v("在使用的时候可以通过 this.props 来获取值\n类式组件的 props:")]),t._v(" "),s("ul",[s("li",[t._v("通过在组件标签上传递值，在组件中就可以获取到所传递的值")]),t._v(" "),s("li",[t._v("在构造函数的参数里可以获取到 props")]),t._v(" "),s("li",[t._v("可以分别设置 propTypes 和 defaultProps 两个属性来分别操作 props 的规范和默认值，两者都是直接添加在类式组件的原型对象上的（所以需要添加 static）")])]),t._v(" "),s("h5",{attrs:{id:"函数式组件中使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#函数式组件中使用"}},[t._v("#")]),t._v(" 函数式组件中使用")]),t._v(" "),s("p",[t._v("还记得说函数式组件的参数是什么吗？便是 props。\n传入的方式与类式组件相同，都是在组件标签中传递值")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" Person"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("   // 参数为 props\n    const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name, sex, age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     // 使用占位符获取 props的值\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("姓名："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("性别："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("sex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("年龄："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nPerson.defaultProps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("     // 设置 props默认值\n    sex: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"男"')]),t._v(",\n    age: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(",\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nPerson.propTypes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    // 设置 props限制\n    name: PropTypes.string.isRequired,\n    sex: PropTypes.string,\n    age: PropTypes.number,\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nconst p "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name:"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Jerry"')]),t._v(", sex:"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"女"')]),t._v(", age:16"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nReactDOM.render"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Person "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(",document.querySelector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#app"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("函数组件的 props 定义:")]),t._v(" "),s("ul",[s("li",[t._v("同样也是在组件标签中传递 props 的值")]),t._v(" "),s("li",[t._v("组件函数的参数为 props")]),t._v(" "),s("li",[t._v("对 props 的限制和设置默认值也同样实在原型对象上")])]),t._v(" "),s("h4",{attrs:{id:"_3-refs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-refs"}},[t._v("#")]),t._v(" 3. refs")]),t._v(" "),s("p",[t._v("假设在你的组件里有着表单元素，然后你需要获取到其中的值，该怎么获取呢？有的人可能想给元素绑定 id 后用 document.querySelector 来查找元素，但这样就违背了 React 的想法，又开始操作起了 DOM 元素，所有 React 提供了第三种特性 refs")]),t._v(" "),s("p",[t._v("在 React 的历史中，共有三种操作 refs 的方法，分别为：")]),t._v(" "),s("ul",[s("li",[t._v("字符串形式")]),t._v(" "),s("li",[t._v("回调形式")]),t._v(" "),s("li",[t._v("createRef 形式")])]),t._v(" "),s("p",[t._v("让我们一一来了解一下：")]),t._v(" "),s("h5",{attrs:{id:"类式组件中使用-refs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#类式组件中使用-refs"}},[t._v("#")]),t._v(" 类式组件中使用 refs")]),t._v(" "),s("h6",{attrs:{id:"_1-字符串形式的-refs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-字符串形式的-refs"}},[t._v("#")]),t._v(" (1) 字符串形式的 refs")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("class Demo extends React.Component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("showData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         // 通过自己设定的 refs名称获取对应的元素\n        const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("myInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" this.refs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   // 返回该元素\n        alert"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myInput.value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" /* 通过 ref属性绑定这个 input标签 */ "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myInput"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("placeholder")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"search something"')]),t._v(" /"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("/* 事件绑定会在下面讲 */"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.showData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Show Data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("h6",{attrs:{id:"_2-回调形式的-refs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-回调形式的-refs"}},[t._v("#")]),t._v(" (2) 回调形式的 refs")]),t._v(" "),s("p",[t._v("其实很简单，但在后来的版本中，官方觉得这样做有问题，于是推出了全新的版本：使用回调函数来操作 refs")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("class Demo extends React.Component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("showData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("myInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" this"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   // 返回该元素\n        alert"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myInput.value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("/* 回调函数的参数为该元素本身，通过函数绑定在 this上 */"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" e "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" this.myInput "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("placeholder")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"search something"')]),t._v(" /"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.showData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Show Data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("h6",{attrs:{id:"_3-createref-形式-推荐"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-createref-形式-推荐"}},[t._v("#")]),t._v(" (3) createRef 形式（推荐）")]),t._v(" "),s("p",[t._v("后来的 React 发现，使用回调函数的形式还是会出现一些不可言喻的问题，所以，又一次推出了全新的的方法来使用 refs，便是使用 React 身上的方法 createRef()")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("class Demo extends React.Component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    // 使用 React.createRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 创建一个 ref容器\n    myRef "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React.createRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    showData "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        // 在容器中获取 DOM元素\n        const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("current"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" this.myRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        alter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("current.value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("/* 将DOM元素绑定在容器中 */"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.myRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("placeholder")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"点击提示数据"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.showData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("ShowData"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("    \n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("注意：一个 ref 容器，只能存储一个元素（专人专用），后加入的会把前一个顶出去")]),t._v(" "),s("h5",{attrs:{id:"函数式组件中使用-refs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#函数式组件中使用-refs"}},[t._v("#")]),t._v(" 函数式组件中使用 refs")]),t._v(" "),s("ul",[s("li",[t._v("在 React16.8 前，与 state 相同，函数式组件也无法使用 refs 特性")]),t._v(" "),s("li",[t._v("在 React16.8 后，出现了 Hook 函数，使得函数式组件也有了使用 refs 特性的能力")])]),t._v(" "),s("p",[t._v("以下代码现阶段无需看懂先，了解即可。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("Demo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count, setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React.useState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" count+1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("当前求和："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("add"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("点击加一"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"四、组件的事件绑定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、组件的事件绑定"}},[t._v("#")]),t._v(" 四、组件的事件绑定")]),t._v(" "),s("h4",{attrs:{id:"_1-在函数式组件中进行事件绑定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-在函数式组件中进行事件绑定"}},[t._v("#")]),t._v(" 1. 在函数式组件中进行事件绑定")]),t._v(" "),s("p",[t._v("可以在函数中定义另外一个函数（内置函数）然后进行调用即可")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" Demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("showData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        alert"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"触发了事件"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("showData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("点击触发"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"_2-在类式组件中进行事件绑定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-在类式组件中进行事件绑定"}},[t._v("#")]),t._v(" 2. 在类式组件中进行事件绑定")]),t._v(" "),s("p",[t._v("在类式组件中可以通过类本身的方法来调用")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("class Demo extends React.Component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" count: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("    // 定义 state\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("showData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        alert"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"触发了事件"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("this.state.count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" 报错\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.showData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        // 成功弹出弹窗，但是输出报错\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("这里你会发现，虽然成功 alter，但是输出 state 会报错，这是为什么呢？\n平时在组件内使用 this.state 的时候，此时 this 的指向都是作用于类的原型对象，即类本身。\n而在函数中，因为使用了 babel.js 的缘故，js 默认开启了严格模式，所以函数体的 this 为 undefined，自然找不到在原型对象上的 state。")]),t._v(" "),s("p",[t._v("此时有两种解决方法：")]),t._v(" "),s("ul",[s("li",[t._v("使用 bind、apply 等方法改变 this 指向")]),t._v(" "),s("li",[t._v("使用箭头函数，改变 this 指向（推荐）")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("class Demo extends React.Component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    constractor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        super"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        // this.showData "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" this.showData.bind"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("this"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   // 方法1\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" count: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("    // 定义 state\n    showData "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    // 方法2\n        alert"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"触发了事件"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("this.state.count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" 报错\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.showData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        // 成功弹出弹窗，但是输出报错\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"_3-react-的事件处理方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-react-的事件处理方法"}},[t._v("#")]),t._v(" 3. React 的事件处理方法")]),t._v(" "),s("p",[t._v("通过 onXxx 属性指定事件处理函数（注意大小写")]),t._v(" "),s("ul",[s("li",[t._v("React 使用的是自定义（合成）事件，而不是原生的 DOM 事件（为了更好的兼容性）")]),t._v(" "),s("li",[t._v("React 的事件是通过事件委托方式处理的（委托给组件最外层的元素）（为了更加的高效）")]),t._v(" "),s("li",[t._v("可以通过事件的 event.target 获取发生的 DOM 元素对象，可以尽量减少 refs 的使用")]),t._v(" "),s("li",[t._v("在绑定事件的时候不要加括号，这会被 jsx 识别为执行函数")])]),t._v(" "),s("h3",{attrs:{id:"五、组件的生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、组件的生命周期"}},[t._v("#")]),t._v(" 五、组件的生命周期")]),t._v(" "),s("p",[t._v("对 Vue 熟悉的应该对生命周期并不陌生。\n组件在挂载到页面上的过程中，期间发生了许多的事情，而生命周期，可以看作是一个组件的执行流程，我们可以通过在某个流程节点中进行一些操作，而这就是 生命周期钩子（函数）\n注：生命周期函数只适用于类式组件，并不适用于函数式组件，但是在 React16.8 之后的 Hook，也可以让函数式组件实现类似于生命周期钩子的功能")]),t._v(" "),s("h4",{attrs:{id:"_1-react-16-之前"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-react-16-之前"}},[t._v("#")]),t._v(" 1. React 16 之前")]),t._v(" "),s("img",{attrs:{src:a(481)}}),t._v(" "),s("p",[t._v("以下是流程：")]),t._v(" "),s("ul",[s("li",[t._v("自身组件挂载\n"),s("ul",[s("li",[t._v("constructor: 构造函数（初始化）")]),t._v(" "),s("li",[t._v("componentWillMount: 组件挂载前")]),t._v(" "),s("li",[t._v("render: 组件挂载中")]),t._v(" "),s("li",[t._v("componentDidMount: 组件挂载完成后")])])]),t._v(" "),s("li",[t._v("拥有父组件且父组件状态进行更新（setState）：\n"),s("ul",[s("li",[t._v("父组件 shouldComponentUpdate: 父组件是否进行状态更新")]),t._v(" "),s("li",[t._v("父组件 componentWillUpdate: 父组件状态更新前")]),t._v(" "),s("li",[t._v("父组件 render: 父组件更新挂载中")]),t._v(" "),s("li",[t._v("子组件 componentWillReceiveProps: 子组件将收到新的 Props")]),t._v(" "),s("li",[t._v("子组件 shouldComponentUpdate: 子组件是否进行状态更新")]),t._v(" "),s("li",[t._v("子组件 componentWillUpdate: 子组件状态更新前")]),t._v(" "),s("li",[t._v("子组件 render: 子组件更新挂载中")]),t._v(" "),s("li",[t._v("子组件 componentDidMount: 子组件挂载完成")]),t._v(" "),s("li",[t._v("父组件 componentDidMount: 父组件挂载完成")])])]),t._v(" "),s("li",[t._v("当组件要进行卸载时：\n"),s("ul",[s("li",[t._v("componentWillUnmount: 组件卸载前")])])]),t._v(" "),s("li",[t._v("有几个需要注意的地方：\n"),s("ul",[s("li",[t._v("shouldComponentUpdate 的意思是是否更新状态，所以他应该有个布尔类型返回值，而且默认为 true（不写的时候），当你写了这个钩子时别忘了写个返回值，这个横眉周期一般用于进行更新值的一些判断。")]),t._v(" "),s("li",[t._v("shouldComponentUpdate 有两个参数，分别是 nextProps：新的 props 与 nextState： 新的 state，此时他们都还没更新到组件上。")]),t._v(" "),s("li",[t._v("使用 setState 时会经过生命周期 shouldComponentUpdate，但是使用 forceUpdate 时则不会，而是直接到 componentWillUpdate 生命周期")])])])]),t._v(" "),s("h4",{attrs:{id:"_2-react-16-之后"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-react-16-之后"}},[t._v("#")]),t._v(" 2. React 16 之后")]),t._v(" "),s("img",{attrs:{src:a(482)}}),t._v(" "),s("ul",[s("li",[t._v("新旧生命周期对比：\n"),s("ul",[s("li",[t._v("在新的生命周期中，舍弃了（即将舍弃）三个生命周期函数：\n"),s("ul",[s("li",[t._v("componentWillMount")]),t._v(" "),s("li",[t._v("componentWillReceiveProps")]),t._v(" "),s("li",[t._v("componentWillUpdate")])])])])]),t._v(" "),s("li",[t._v("新增了两个生命周期函数：\n"),s("ul",[s("li",[t._v("getDerivedStateFromProps")]),t._v(" "),s("li",[t._v("getSnapshotBeforeUpdate")])])]),t._v(" "),s("li",[t._v("以下是流程：\n"),s("ul",[s("li",[t._v("自身组件挂载：\n"),s("ul",[s("li",[t._v("constructor: 构造函数（初始化）")]),t._v(" "),s("li",[t._v("getDerivedStateFromProps: 从 props 中获取派生的 state")]),t._v(" "),s("li",[t._v("render: 组件挂载中")]),t._v(" "),s("li",[t._v("componentDidMount: 组件完成挂载")])])]),t._v(" "),s("li",[t._v("父组件更新时\n"),s("ul",[s("li",[t._v("父组件 getDerivedStateFromProps: 从 props 中获取派生的 state")]),t._v(" "),s("li",[t._v("父组件 shouldComponentUpdate: 判断是否进行状态更新")]),t._v(" "),s("li",[t._v("父组件 render: 父组件挂载中")]),t._v(" "),s("li",[t._v("子组件 getDerivedStateFromProps: 从 props 中获取派生的 state")]),t._v(" "),s("li",[t._v("子组件 shouldComponentUpdate: 判断是否进行状态更新")]),t._v(" "),s("li",[t._v("子组件 render: 子组件挂载中")]),t._v(" "),s("li",[t._v("子组件 getSnapshotBeforeUpdate: 子组件获取状态更新前的快照")]),t._v(" "),s("li",[t._v("子组件 componentDidUpdate: 子组件完成更新")]),t._v(" "),s("li",[t._v("父组件 getSnapshotBeforeUpdate: 父组件获取状态更新前的快照")]),t._v(" "),s("li",[t._v("父组件 componentDidUpdate: 父组件完成更新")])])]),t._v(" "),s("li",[t._v("组件卸载时\n"),s("ul",[s("li",[t._v("componentWillUnmount: 组件卸载前")])])])])]),t._v(" "),s("li",[t._v("也有几个需要注意的地方：\n"),s("ul",[s("li",[t._v("getDerivedStateFromProps 需要定义个实例本身，所以是静态方法")]),t._v(" "),s("li",[t._v("getDerivedStateFromProps 有两个参数，分别是当前的 props 和 state")]),t._v(" "),s("li",[t._v("若需要组件的状态任何时候都取决于 props 则可以使用 getDerivedStateFromProps，但是使用场景比较罕见，可以在其中定义 state")]),t._v(" "),s("li",[t._v("getSnapshotBeforeUpdate 有两个参数，分别为状态更新前的 props 和 state，并且有一个返回值（快照），一般用作本次更新情况的说明情况。")]),t._v(" "),s("li",[t._v("componentDidUpdate 有三个参数，分别为状态更新前的 props 和 state，以及先前 getSnapshotBeforeUpdate 返回的快照。")]),t._v(" "),s("li",[t._v("其他的与旧的生命周期没有什么差别")])])])]),t._v(" "),s("h3",{attrs:{id:"六、组件列表渲染、条件渲染与-dom-的-diffing-算法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六、组件列表渲染、条件渲染与-dom-的-diffing-算法"}},[t._v("#")]),t._v(" 六、组件列表渲染、条件渲染与 DOM 的 Diffing 算法")]),t._v(" "),s("h4",{attrs:{id:"_1-组件列表渲染"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-组件列表渲染"}},[t._v("#")]),t._v(" 1. 组件列表渲染")]),t._v(" "),s("p",[t._v("在有时候我们需要批量的去创建一些 DOM 元素或组件，比如页面上的：新闻列表、推文列表、好友列表等等，你会发现在开发的过程中经常会使用到列表，但是自己一个个的去写 DOM 回十分繁琐。\n我们可以通过数组存储数据，也可以使用数组来循环渲染数据。\n举个例子：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("class Demo extends React.Component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        arr: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("a, b, c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        // 输出 abc\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("stus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("你会发现，React 输出数组会把所有的元素直接循环输出出来，那么我们只要在每个元素左右添加上标签，那不就构成了列表渲染吗？\n这里我们可以通过 jsx 语法配合 ES6 语句来实现列表渲染。\n直接上代码")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("class Demo extends React.Component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        stus: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"001"')]),t._v(", name: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"小明"')]),t._v(", age: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"28"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"002"')]),t._v(", name: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"小红"')]),t._v(", age: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"26"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        this.state.stus.map"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                            "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item.id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item.name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("---"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item.age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("img",{attrs:{src:a(483)}}),t._v("\n#### 2. key 的使用\n"),s("p",[t._v("有的人发现了写列表渲染的时候，我都会给每个标签加上一个 key 属性，这是为什么呢？\n其实 key 的作用是给当前的标签添加一个唯一的标识，用于给 React 进行 diffing 算法计算的时候使用")]),t._v(" "),s("h4",{attrs:{id:"_3-diffing-算法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-diffing-算法"}},[t._v("#")]),t._v(" 3. diffing 算法")]),t._v(" "),s("p",[t._v("当状态发生改变时，react 会根据【新的状态】生成【新的虚拟 DOM】\n然后将新旧虚拟 DOM 进行  diff 比较，比较规则如下：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("旧虚拟 DOM  中找到了与   新虚拟 DOM  相同的  key")]),t._v(" "),s("ul",[s("li",[t._v("若虚拟 DOM 中的内容没变，则直接使用之前的真实 DOM")]),t._v(" "),s("li",[t._v("若虚拟 DOM 中的内容变了，则生成新的真实 DOM 并进行替换")])])]),t._v(" "),s("li",[s("p",[t._v("旧虚拟 DOM  中未找到与   新虚拟 DOM  相同的  key，则根据数据创建新的真实 DOM，然后渲染到页面用")])])]),t._v(" "),s("p",[t._v("index 作为 key 可能引发的问题")]),t._v(" "),s("ul",[s("li",[t._v("对数据进行 逆序添加、逆序删除 邓破坏顺序的操作 会产生没有必要的真实 DOM 更新，影响效率")]),t._v(" "),s("li",[t._v("对结构中包含输入类的 DOM 会产生错误的 DOM 更新，同时界面渲染有问题")]),t._v(" "),s("li",[t._v("若仅用于展示数据，那用 index 作为 key 则没有问题")])]),t._v(" "),s("h3",{attrs:{id:"七、react-脚手架"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#七、react-脚手架"}},[t._v("#")]),t._v(" 七、React 脚手架")]),t._v(" "),s("p",[t._v("恭喜，终于熬到了脚手架这里了，终于可以一键生成所有东西而不是自己一个个引用了。\n什么是脚手架呢？ 脚手架可以说是建房子时的构架，其他人已经帮你吧房子的架构搭好了，不需要自己动手。\n而 React 就有自己的脚手架，开发团队通过 webpack，babel、npm 等方法，帮你搭建好了一个使用 React 开发软件的环境，不再需要自己去创建文件夹，导入 React 等重复的操作，更加利于我们编写 SPA 应用（单页面富应用）。")]),t._v(" "),s("h4",{attrs:{id:"_1-安装-react-脚手架"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装-react-脚手架"}},[t._v("#")]),t._v(" 1. 安装 React 脚手架")]),t._v(" "),s("p",[t._v("在自己的命令行窗口中输入（需要现有 node 环境）：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i create-react-app "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-g")]),t._v("\n")])])]),s("p",[t._v("全局安装 create-react-app 脚手架")]),t._v(" "),s("h4",{attrs:{id:"_2-创建-react-应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-创建-react-应用"}},[t._v("#")]),t._v(" 2. 创建 React 应用")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("create-create-app 应用名称\n")])])]),s("ul",[s("li",[t._v("应用名称不应该出现大写字母和特殊字符")]),t._v(" "),s("li",[t._v("使用英文命名而不是中文命名")])]),t._v(" "),s("h4",{attrs:{id:"_3-文件解析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-文件解析"}},[t._v("#")]),t._v(" 3. 文件解析")]),t._v(" "),s("p",[t._v("项目文件中比较常用的文件就以下这些：")]),t._v(" "),s("ul",[s("li",[t._v("node_modules ------ npm 包的存放位置")]),t._v(" "),s("li",[t._v("public ------ 用于存放静态文件")]),t._v(" "),s("li",[t._v("src ------ 项目的代码存放位置\n"),s("ul",[s("li",[t._v("components ------ 用于存放公用组件的文件夹")]),t._v(" "),s("li",[t._v("page ------ 用于存放页面的文件夹")]),t._v(" "),s("li",[t._v("App.js ------ 根组件")]),t._v(" "),s("li",[t._v("App.css ------ 根组件的样式")]),t._v(" "),s("li",[t._v("index.js ------ 项目入口文件")]),t._v(" "),s("li",[t._v("index.css ------ 项目的公用样式")])])]),t._v(" "),s("li",[t._v(".gitgnore ------ 编写 git 的配置文件")]),t._v(" "),s("li",[t._v("package.json ------ 项目配置文件")]),t._v(" "),s("li",[t._v("README.md ------ 项目信息")])]),t._v(" "),s("p",[t._v("还记得我们的讲组件化的图片吗")]),t._v(" "),s("p",[t._v("{% asset_img 01.png This is an image %}")]),t._v(" "),s("p",[t._v("其中的 APP 就是根组件，通过我们编写其他的组件如 Header、Aside 等组件，都加装在根组件上。")]),t._v(" "),s("h4",{attrs:{id:"_4-npm-指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-npm-指令"}},[t._v("#")]),t._v(" 4. npm 指令")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" start       // 使用 webpack-dev-server 启动服务查看应用\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" build       // 打包生成生产文件\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("        // 进行软件测试（不常用）\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("eject")]),t._v("       // 将所有的配置文件暴漏出来（不常用且不建议用）\n")])])]),s("h3",{attrs:{id:"八、react-router-的使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#八、react-router-的使用"}},[t._v("#")]),t._v(" 八、react-router 的使用")]),t._v(" "),s("h4",{attrs:{id:"_1-什么是-react-router"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是-react-router"}},[t._v("#")]),t._v(" 1. 什么是 react-router")]),t._v(" "),s("p",[t._v("react-router 是为了 React 编写 SPA 应用操作前端路由而诞生的。")]),t._v(" "),s("h5",{attrs:{id:"_1-前端路由-可能有点直白"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-前端路由-可能有点直白"}},[t._v("#")]),t._v(" (1) 前端路由（可能有点直白）")]),t._v(" "),s("p",[t._v("前端路由是通过 HTML5 的新 API History 来操作的，其原理就是 url 地址的地址发生改变，但是并不会触发重新加载，同时 javascript 可以监听到改变。\n有两种类型：")]),t._v(" "),s("ul",[s("li",[t._v("HashRouter: 利用 url 地址栏的 # 后面的哈希值\nhttps://www.baidu.com/#/a/b")]),t._v(" "),s("li",[t._v("BrowserRouter: 利用浏览器的 History API，地址栏中不包含 # ，显得更加美观")])]),t._v(" "),s("p",[t._v("https://www.baidu.com/a/b")]),t._v(" "),s("p",[t._v("以上两种情况都不会触发 url 的跳转功能")]),t._v(" "),s("h5",{attrs:{id:"_2-spa-应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-spa-应用"}},[t._v("#")]),t._v(" (2) SPA 应用")]),t._v(" "),s("p",[t._v("SPA 全称 Single Page web Application，顾名思义是只有一个页面的应用，通过 javascript 进行实时的渲染来更新页面。\n即通过当前的路由来判断页面应该加载什么组件，从而呈现不同的页面与效果。")]),t._v(" "),s("h4",{attrs:{id:"_2-使用-react-router"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用-react-router"}},[t._v("#")]),t._v(" 2. 使用 react-router")]),t._v(" "),s("h5",{attrs:{id:"_1-安装与使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装与使用"}},[t._v("#")]),t._v(" (1) 安装与使用")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i react-router-dom "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-S")]),t._v("\n")])])]),s("p",[t._v("注意：我们下载的是 react-router-dom 而不是 react-router\n两者区别：")]),t._v(" "),s("ul",[s("li",[t._v("react-router：提供了 router 的核心 API。如 Router、Route、Switch 等，但没有提供有关 dom 操作进行路由跳转的 API；")]),t._v(" "),s("li",[t._v("react-router-dom：提供了 BrowserRouter、Route、Link 等 api，可以通过 dom 操作触发事件控制路由。")])]),t._v(" "),s("p",[t._v("react-router-dom 中包含了 react-router，所以我们选择下 react-router-dom。")]),t._v(" "),s("h5",{attrs:{id:"_2-常用组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-常用组件"}},[t._v("#")]),t._v(" (2) 常用组件")]),t._v(" "),s("h6",{attrs:{id:"a-路由跳转"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#a-路由跳转"}},[t._v("#")]),t._v(" a. 路由跳转")]),t._v(" "),s("p",[t._v("在多页面应用中，通常都是使用 a 标签进行页面跳转")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("a "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:3000"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("跳转页面"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("使用单页面富应用中使用 react-router 则使用路由跳转组件")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Link, NavLink"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-router"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("activeClassName")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nav-active"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("className")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nav"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/about"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("About"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Link"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("NavLink "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("activeClassName")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nav-active"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("className")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nav"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Home"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/NavLink"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n")])])]),s("ul",[s("li",[t._v("activeClassName: 处于当前路由时，对应的组件会自动添加该类")]),t._v(" "),s("li",[t._v("className: 当前组件类名")]),t._v(" "),s("li",[t._v("to: 当前组件所对应的路由")])]),t._v(" "),s("p",[t._v("Link 组件与 NavLink 组件都可以进行路由的跳转，区别在于：当前路由对应的 NavLink 会自动添加 class: active，而 Link 不会。")]),t._v(" "),s("h6",{attrs:{id:"b-注册路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#b-注册路由"}},[t._v("#")]),t._v(" b. 注册路由")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Route"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-router"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Route"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route exact "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/about"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("About"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Route"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("ul",[s("li",[t._v("path: 所要监听的路由")]),t._v(" "),s("li",[t._v("component: 该路由要绑定的组件")]),t._v(" "),s("li",[t._v("exact: 可选，不写时为 false，是否选择严格匹配\n当当前路由对应上了路由组件所绑定的路由时，则会展示所绑定的组件。")])]),t._v(" "),s("p",[t._v("(a) 路由严格匹配与模糊匹配\n路由不仅仅只有一级，有的时候是有多级嵌套的，比如以下这张：")]),t._v(" "),s("p",[t._v("https://www.baidu.com/a/b/c/d")]),t._v(" "),s("p",[t._v("模糊匹配和严格匹配，都是指当前的组件对当前路由的匹配模式：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("模糊匹配: 如果当前路由与匹配的路由成相等或包含（注意层级）的情况，则启用该组件")]),t._v(" "),s("ul",[s("li",[t._v("http://localhost:3000/home/a/b/c 则为包含路由 /home")]),t._v(" "),s("li",[t._v("http://localhost:3000/a/b/home/c 则为不包含路由 /home（层级不对）")])])]),t._v(" "),s("li",[s("p",[t._v("严格匹配: 如果当前路由与匹配的路由相等的话，才启用该组件")]),t._v(" "),s("ul",[s("li",[t._v("http://localhost:3000/home 则为与路由 /home 相等")]),t._v(" "),s("li",[t._v("http://localhost:3000/home/a 则为与路由 /home 不相等")])])])]),t._v(" "),s("h5",{attrs:{id:"c-重定向路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#c-重定向路由"}},[t._v("#")]),t._v(" c. 重定向路由")]),t._v(" "),s("p",[t._v("你明明设置好了路由 /home，但是有的用户就喜欢对着干，在地址栏输入了 /nothing，而你没有注册这个路由，那该怎么办呢？\n这个时候你就可以东涌道重定向路由了，对于没有注册过的路由，都会被跳转到你指定的某个路由去，这就是重定向路由。\n经常可以用作一些 404，页面丢失等情况的路由跳转方式。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Redirect, Route"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-router"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Redirect "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home"')]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("ul",[s("li",[t._v("to: 需要重定向到哪个路由？\nRedirect 需放在所有 Route 下面，当上面的 Route 都没有匹配到时，则路由将重定向到指定的路由。")])]),t._v(" "),s("h6",{attrs:{id:"d-switch-路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#d-switch-路由"}},[t._v("#")]),t._v(" d. Switch 路由")]),t._v(" "),s("p",[t._v("你想想，如果你的路由中，出现了 /home 与 /home/abc 和 /home/a/b/c 等这样的路由，当路由为 /home 时则会三个路由都同时渲染，但是你又只想要渲染其中的一条，这个时候我们就可以使用 Switch 组件。\n使用 Switch 组件包裹住所有的 Route 和 Redirect，当出现多个匹配的路由时，只会渲染第一个匹配的组件。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Switch, Route, Redirect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-router"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Switch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Redirect "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"..."')]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Switch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("h6",{attrs:{id:"e-路由器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#e-路由器"}},[t._v("#")]),t._v(" e. 路由器")]),t._v(" "),s("p",[t._v("你想要使用路由跳转组件和路由组件，还差一个路由器组件，同时路由器组件必须包裹着这两个组件。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("HashRouter, BrowserRouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-router"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("一般为了使整个 React 应用都可以使用到路由组件，所以一般我们都是把路由器包裹在根组件上的。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("ReactDOM.render"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("BrowserRouter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("App/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/BrowserRouter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(",\n    document.querySelector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#root"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("有两种路由器组件，分别是 HashRouter 与 BrowserRouter，分别对应者两种路由方式。")]),t._v(" "),s("h5",{attrs:{id:"_3-路由组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-路由组件"}},[t._v("#")]),t._v(" (3) 路由组件")]),t._v(" "),s("p",[t._v("路由组件与一般组件")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("写法不同")]),t._v(" "),s("ul",[s("li",[t._v("一般组件："),s("code",[t._v("<Demo></Demo>")])]),t._v(" "),s("li",[t._v("路由组件："),s("code",[t._v('<Route path="/demo" component={Demo}></Route>')])])])]),t._v(" "),s("li",[s("p",[t._v("存放位置不同")]),t._v(" "),s("ul",[s("li",[t._v("一般组件：components 文件夹")]),t._v(" "),s("li",[t._v("路由组件：page 文件夹")])])]),t._v(" "),s("li",[s("p",[t._v("接受到的 props 不同")]),t._v(" "),s("ul",[s("li",[t._v("一般组件：根据组件标签传递了上面，就收到了什么")]),t._v(" "),s("li",[t._v("路由标签：会收到三个固定的属性")])])])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"history"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"length"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"action"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PUSH"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"location"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pathname"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home"')]),t._v(",\n      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"search"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(",\n      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hash"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(",\n      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tvfyve"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"location"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pathname"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"search"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hash"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tvfyve"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"match"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"path"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"url"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"isExact"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" true,\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"params"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n\n")])])]),s("h4",{attrs:{id:"_3-嵌套路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-嵌套路由"}},[t._v("#")]),t._v(" 3.嵌套路由")]),t._v(" "),s("p",[t._v("假设我们有个路由组件为 Home，在根组件中使用 Link跳转到了该路由，当前路由为 /home，可在组件 Home 中还有两个 Link，分别导向路由 /home/message 与 /home/news 然后在组件中还有其他的路由组件。这就时嵌套路由的使用。\n如下面的代码")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("class Home extends Component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/message"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Message"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Link"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/news"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("News"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Link"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("hr/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/message"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" /"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/news"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("News"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" /"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"_4-编程式路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-编程式路由"}},[t._v("#")]),t._v(" 4. 编程式路由")]),t._v(" "),s("p",[t._v("如果说，我们想要做用户点击按钮登陆后，如果他是老师就去老师页面，如果是学生就去学生页面，这个显然单靠 Link 无法完成，我们可以通过 js进行路由的跳转（也是 react-router 基于 History API 编写的）")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("class Message extends Component "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        messageArr:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id:"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"01"')]),t._v(", title: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"消息1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id:"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"02"')]),t._v(", title: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"消息2"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id:"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"03"')]),t._v(", title: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"消息3"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    // 编程式路由导航\n    pushShow "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id, title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        // push跳转 + 携带 params参数\n        this.props.history.push"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("/home/message/detail/$"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/$"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        \n        // push跳转 + 携带 search参数\n        // this.props.history.push"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("/home/message/detail?id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("$"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("title")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("$"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        \n        // push跳转 + 携带 state参数\n        // this.props.history.push"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("/home/message/detail"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(", "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id,title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    replaceShow "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id, title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        // replace跳转 + 携带 params参数\n        this.props.history.replace"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("/home/message/detail/$"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/$"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        \n        // replace跳转 + 携带 search参数\n        // this.props.history.replace"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("/home/message/detail?id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("$"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("title")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("$"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        \n        // replace跳转 + 携带 state参数\n        // this.props.history.replace"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("/home/message/detail"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(", "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id, title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    // 后退\n    goBack "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        this.props.history.goBack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    // 前进\n    goForward "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        this.props.history.goForward"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    // 跳转指定位置\n    go "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        // 向前两步\n        this.props.history.go"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        \n        // 后退两步\n        this.props.history.go"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("-2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("messageArr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" this.state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        messageArr.map"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                            "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item.id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("/home/message/detail/$"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item.id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/$"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item.title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item.title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Link"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("nbsp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" this.pushShow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item.id, item.title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("push查看"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("nbsp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" this.replaceShow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item.id, item.title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("replace查看"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("hr/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/message/detail/:id/:title"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Detail"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" /"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.goBack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("goBack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("nbsp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.goForward"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("goForward"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("nbsp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.go"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("go"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("总结一下上面的代码：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("编程式路由都是通过 props中的 history对象进行操作（都是该对象身上的方法，调用方式为：this.props.history.xxx）")])]),t._v(" "),s("li",[s("p",[t._v("常用方法：")]),t._v(" "),s("ul",[s("li",[t._v("push(route[, state]): 跳转到指定路由（带有历史记录）")]),t._v(" "),s("li",[t._v("replace(route[, state]): 跳转到指定路由（不带有历史记录）")]),t._v(" "),s("li",[t._v("goBack(): 后退一个")]),t._v(" "),s("li",[t._v("goForward(): 前进一个")]),t._v(" "),s("li",[t._v("go(num): 前往指定步数，当 num为正数时，为前进，当 num为负数时则为后退。")])])])]),t._v(" "),s("h4",{attrs:{id:"_5-withrouter-组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-withrouter-组件"}},[t._v("#")]),t._v(" 5. withRouter 组件")]),t._v(" "),s("p",[t._v("有的时候，我们想要在其他组件中也使用路由组件的功能，比如导航栏，应该属于公用组件，但是里面的导航链接的功能却是路由组件的功能，我们应该怎么解决呢？\n在 react-router 中，提供了这么一种方法，可以让一般组件具有路由组件的功能，则就是 withRouter() 方法。\n看看演示：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("withRouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-router-dom"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nclass Header extends Component "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    // withRouter后该组件也有了路由组件的功能\n    goBack "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        this.props.history.goBack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    go "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        this.props.history.go"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    goForward "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        this.props.history.goForward"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("This is a React-router-dom Test"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.goBack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("goBack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("nbsp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.goForward"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("goForward"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("nbsp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.go"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("go"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n// withRouter 用于给一般组件添加上路由组件特有的功能，返回一个新组件\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default withRouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"九、路由组件之间的参数传递"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#九、路由组件之间的参数传递"}},[t._v("#")]),t._v(" 九、路由组件之间的参数传递")]),t._v(" "),s("p",[t._v("父子组件之间的内容传递，可以通过 props来进行参数传递，但是路由组件却没有自己的标签，那么该如何进行参数的传递呢？\n还记得路由组件特有的 props吗，我们可以利用 History API的一些特性来进行路由组件之间的参数传递，有三种方法。")]),t._v(" "),s("ul",[s("li",[t._v("params")]),t._v(" "),s("li",[t._v("search")]),t._v(" "),s("li",[t._v("state")])]),t._v(" "),s("h4",{attrs:{id:"_1-传递-params-参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-传递-params-参数"}},[t._v("#")]),t._v(" 1. 传递 params 参数")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// 父组件\nclass Parent extends Component "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        messageArr:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id:"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"01"')]),t._v(", title: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"消息1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id:"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"02"')]),t._v(", title: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"消息2"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id:"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"03"')]),t._v(", title: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"消息3"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("messageArr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" this.state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                 messageArr.map"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    // 向路由组件传递 params参数\n                    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item.id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("/home/message/detail/$"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item.id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/$"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item.title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item.title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Link"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("hr/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("/* 声明接受 params参数，可以在 props中的 match属性的 params属性里获得 */"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/message/detail/:id/:title"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Child"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" /"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// 子组件\nclass Child extends Component "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        contentArr:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id:"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"01"')]),t._v(", content: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"你好中国"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id:"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"02"')]),t._v(", content: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"你好世界"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id:"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"03"')]),t._v(", content: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"你好帅哥"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("this.props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        // 获取 params参数\n        const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id, title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" this.props.match.params\n        const findResult "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" this.state.contentArr.find"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("obj.id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("ID: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("TITLE: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("CONTENT: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("findResult"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("在使用 params传递参数时，你会清楚的看到参数以路由的形式展现了出来，例如：")]),t._v(" "),s("ul",[s("li",[t._v("http://localhost:3000/home/message/用户1/文章32")])]),t._v(" "),s("p",[t._v("类式上面的用户1和文章32，这就是传递的参数。\n以params方式传递的参数，在路由中需要声明接受才可以使用。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/message/detail/:id/:title"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Child"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" /"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("后面的 :id 与 :title 就是可变路由，可以通过props的match接受接收这里的内容.")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id, title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" this.props.match.params\n")])])]),s("h4",{attrs:{id:"_2-传递-search-参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-传递-search-参数"}},[t._v("#")]),t._v(" 2. 传递 search 参数")]),t._v(" "),s("p",[t._v("这个就是依赖 get的请求方式。")]),t._v(" "),s("ul",[s("li",[t._v("http://localhost/home/message?id=1&title=abc\n即 javascript 可以获取到 url 中 ? 后面的请求体。 所以我们可以吧上面的 map 中返回的标签修改以下")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item.id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("/home/message/detail?id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("$"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item.id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("title")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("$"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item.title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item.title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Link"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("且这种方式不需要在路由中声明接收。\n通过 props 中的 location 进行接收")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("const search "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" this.props.location.search"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n// 获取到的格式时： ?id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("xxx"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("title")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("xxx 所以还需要加工一下\nconst "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id, title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" qs.parse"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("search.slice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"_3-传递-state-参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-传递-state-参数"}},[t._v("#")]),t._v(" 3. 传递 state 参数")]),t._v(" "),s("p",[t._v("通过 HistoryAPI来进行数据传输:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item.id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("pathname: "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("/home/message/detail"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(", state:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id:item.id, title:item.title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item.title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Link"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("不需要在路由链接中添加任何东西，也不需要路由进行声明接收。更加的美观。\n在 props中的 location 里获取 state属性")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id, title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" this.props.location.state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"_4-三者对比"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-三者对比"}},[t._v("#")]),t._v(" 4. 三者对比")]),t._v(" "),s("p",[t._v("路由组件传参其实用的较少，因为他们都有对某些东西的依赖：")]),t._v(" "),s("ul",[s("li",[t._v("params: 依赖于路由链接，链接不美观")]),t._v(" "),s("li",[t._v("search: 依赖于路由链接，链接不美观")]),t._v(" "),s("li",[t._v("state: 依赖于历史记录 (HistoryAPI)，链接美观，但是当直接输入链接时则会报错（没有历史记录）")])]),t._v(" "),s("p",[t._v("所以尽量使用其他的传参方式，如果非要使用的话，有限度比较为：")]),t._v(" "),s("ul",[s("li",[t._v("params (最为常用)")]),t._v(" "),s("li",[t._v("search (较为常用)")]),t._v(" "),s("li",[t._v("state (比较少用)")])]),t._v(" "),s("h3",{attrs:{id:"十、redux-的使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十、redux-的使用"}},[t._v("#")]),t._v(" 十、redux 的使用")]),t._v(" "),s("img",{attrs:{src:a(484)}}),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("假设我们的组件如同这张图一般，组件之间相互嵌套着。\n这时候提出一个要求，在组件E中的数据，要给组件A和组件F使用，要怎么处理呢？\n")])])]),s("ul",[s("li",[t._v("方法1：通过不断的 props进行传参，但是这非常的费时费力")]),t._v(" "),s("li",[t._v("方法2：使用 Pubsub.js等进行消息发布/订阅功能")]),t._v(" "),s("li",[t._v("方法3：使用 react-redux进行数据集中式管理")])]),t._v(" "),s("p",[t._v("即 redux可以看作一个管家，负责帮忙存储公共的数据。")]),t._v(" "),s("h4",{attrs:{id:"_1-安装-redux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装-redux"}},[t._v("#")]),t._v(" 1. 安装 redux")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i redux "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-S")]),t._v("\n")])])]),s("h4",{attrs:{id:"_2-核心概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-核心概念"}},[t._v("#")]),t._v(" 2. 核心概念")]),t._v(" "),s("img",{attrs:{src:a(485)}}),t._v(" "),s("p",[t._v("redux 有着三个核心概念")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("action:")]),t._v(" "),s("ul",[s("li",[t._v("动作的对象（操作内容）")]),t._v(" "),s("li",[t._v("包含两个属性：\na. type: 表示属性，值为字符串，唯一，必要属性（要干嘛）\nb. data: 数据属性，值为任意类型，可选属性（怎么干）")]),t._v(" "),s("li",[t._v('例如：{ type: "ADD_STUDENT", data: { name: "tom", age: 18 } }')])])]),t._v(" "),s("li",[s("p",[t._v("reducer:")]),t._v(" "),s("ul",[s("li",[t._v("用于初始化状态和加工状态（对数据进行初始化和操作数据的）")]),t._v(" "),s("li",[t._v("加工时，根据旧的 state和 action，产生新的 state的纯函数")]),t._v(" "),s("li",[t._v("有两个参数，一个为之前的状态（prevstate）与动作对象（action）")])])]),t._v(" "),s("li",[s("p",[t._v("store:")]),t._v(" "),s("ul",[s("li",[t._v("将 state、action、reducer联系在一起的对象（大脑）")])])])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("我们大致可以把 redux的想象成一家餐厅，而我们就是顾客"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("，我们通过叫服务员"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" action"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("进行点餐等操作，服务员转达经理"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("后，经理吩咐后厨"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" reducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("进行做菜，然后把菜做好后由经理传递给顾客\n")])])]),s("h4",{attrs:{id:"_3-基本使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-基本使用"}},[t._v("#")]),t._v(" 3. 基本使用")]),t._v(" "),s("h5",{attrs:{id:"_1-创建文件夹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建文件夹"}},[t._v("#")]),t._v(" (1) 创建文件夹")]),t._v(" "),s("p",[t._v("在 src文件夹中创建 redux文件夹，用于存放 redux的相关内容")]),t._v(" "),s("ul",[s("li",[t._v("Compnoent ------ 存放组件相关的文件夹")]),t._v(" "),s("li",[t._v("redux ------ 存放 redux相关内容的文件夹\n"),s("ul",[s("li",[t._v("actions ------ 存放 action相关内容的文件夹")]),t._v(" "),s("li",[t._v("reducers ------ 存放 reducer相关内容的文件夹")]),t._v(" "),s("li",[t._v("constant.js ------ 存放规范命名的文件")]),t._v(" "),s("li",[t._v("store.js ------ 编写 store的文件\n由我来一个个带你们解析。先写一个最简单的 redux")])])])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("/**\n * store.js\n * 该文件专门用于暴漏一个 store对象，整个应用只有一个 store对象\n */\n// 引入 createStore，专门用于创建 redux中最为核心的 store\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("createStore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"redux"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n// 引入为 Count组件服务的 reducer\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" countReducer from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./count_reducer"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconst store "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" createStore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("countReducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n// 暴露 store对象\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("/**\n * / reducer / count.js\n * "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(". 该文件是用于创建一个为 Count组件服务的 reducer，reducer的本质就是一个函数\n * \n * "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(". reducer函数会收到两个参数，分别为：之前的状态（preState），动作对象（action）\n * \n * "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(". 会自动调用一次 reducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("初始化"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n */\n// 初始化的状态\nconst initState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" countReducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("preState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" initState, action"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    if"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("preState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" undefined"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" preState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n    // 从 action对象中获取 type，data\n    const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type, data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" action"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    // 根据 type觉得如何加工数据\n    switch "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'increment'")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" // data\n            "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" preState + data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'decrement'")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" // 如果是减\n            "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" preState - data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        default:\n            "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" preState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// / Component / Count.js \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" React, "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n// 引入store\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" store from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../../redux/store"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default class Count extends Component "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    // 加法\n    increment "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" this.selectNumber"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        // 发送动作对象给 store\n        store.dispatch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            type: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"increment"')]),t._v(",\n            data: value*1\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("当前求和为："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("store.getState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("select "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("c"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("this.selectNumber "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("option "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v("<")]),t._v("/option"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("option "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v("<")]),t._v("/option"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("option "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("3")]),t._v("<")]),t._v("/option"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/select"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.increment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("+"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("以上就是最精简的 redux，让我们分析一下流程：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("编写 Count组件，创建 Count组件对应的 Reducer文件")])]),t._v(" "),s("li",[s("p",[t._v("编写 Reducer的代码并抛出：:")]),t._v(" "),s("ul",[s("li",[t._v("Reducer是个纯函数")]),t._v(" "),s("li",[t._v("通常使用 Switch进行 action中的 type的判断")]),t._v(" "),s("li",[t._v("函数返回值为修改后的值")])])]),t._v(" "),s("li",[s("p",[t._v("创建 store并编写代码：")]),t._v(" "),s("ul",[s("li",[t._v("使用方法 createStore()方法来创建一个 store，参数是一个 reducer")]),t._v(" "),s("li",[t._v("把编写好的 Count组件的 reducer导入")])])]),t._v(" "),s("li",[s("p",[t._v("在组件中引入 store并进行调用：")]),t._v(" "),s("ul",[s("li",[t._v("在方法中通过使用 dspatch()方法向 store传递 action")]),t._v(" "),s("li",[t._v("dispatch的参数时一个对象（即 action动作对象）")])])])]),t._v(" "),s("h5",{attrs:{id:"_2-使用流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用流程"}},[t._v("#")]),t._v(" (2) 使用流程")]),t._v(" "),s("p",[t._v("以上使创建的大致流程，而使用的大致流程是这样的：")]),t._v(" "),s("ul",[s("li",[t._v("store 初始化时自动调用了一次 reducer进行了值的初始化")]),t._v(" "),s("li",[t._v("组件发出动 action 给 store，store进行判断后分发给对应的 reducer")]),t._v(" "),s("li",[t._v("reducer根据 action里的 type对数据进行相应的处理后返回新的值")]),t._v(" "),s("li",[t._v("store接收返回的新的值，并将旧的值替换掉")]),t._v(" "),s("li",[t._v("通过方法 store.getState() 获取当前 store身上的值")])]),t._v(" "),s("h5",{attrs:{id:"_3-使用异步redux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-使用异步redux"}},[t._v("#")]),t._v(" (3) 使用异步redux")]),t._v(" "),s("p",[t._v("如果我们需要使用异步的 redux的话，还需要借助另一款插件： redux-thunk")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i redux-thunk "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-S")]),t._v("\n")])])]),s("p",[t._v("这是一个中间件，用于帮忙处理异步的 redux，\n异步的 action的值为一个函数 在函数中进行普通的 dispatch() 操作")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" const createIncrementAsyncAction "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data, "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("time")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    // 返回一个 action\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        setTimeout"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("((")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("{\n            store.dispatch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("createIncrementAction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("time")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("同时我们要在 store处设置让他支持执行中间件，通过 redux的 applyMiddleware() 方法就可以加载中间件，他的参数就是中间件，然后 applyMiddleware() 将作为 createStore() 的第二个参数引入。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// store.js\n// 引入 applyMiddleware，专门用于执行中间件\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("createStore, applyMiddleware"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"redux"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n// 引入为 Count组件服务的 reducer\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" countReducer from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./count_reducer"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n// 引入 redux-thunk，用于支持异步 action\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" thunk from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"redux-thunk"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n// 暴露 store对象\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default createStore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("countReducer, applyMiddleware"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("thunk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h5",{attrs:{id:"_4-监听状态变化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-监听状态变化"}},[t._v("#")]),t._v(" (4) 监听状态变化")]),t._v(" "),s("p",[t._v("你写着写着有没有发现，虽然 redux里面的状态确实更新了，但是页面并没有变化啊？\n还记得页面渲染使用的是哪个函数吗？render()函数。可是在 redux状态发生变化时，并不会帮助我们调用 render()函数，所以我们需要手动实现实时渲染页面。\n在这里我们使用到了 redux的 store上的 subscribe() 方法，用于监听 redux上状态的变化，参数是一个函数，便于我们进行操作。\n一般我们都写在根标签上（精简些，不用再每个使用 redux的组件中都写一遍）")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" React from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" ReactDOM from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-dom'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./index.css'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" App from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./App'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" store from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./redux/store"')]),t._v("\nReactDOM.render"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("App /"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(",\n  document.getElementById"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n// 精简写法\nstore.subscribe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("((")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  ReactDOM.render"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("App /"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(",\n    document.getElementById"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h4",{attrs:{id:"_4-注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-注意事项"}},[t._v("#")]),t._v(" 4. 注意事项")]),t._v(" "),s("ul",[s("li",[t._v("一般使用到 redux的话，需要使用的组件肯定不止一个，所以创建 actions和reducers用来存储多个 action 和 reducer")]),t._v(" "),s("li",[t._v("同上，store肯定不止加载一个 reducer，所以我们使用 redux的 combineReducers()方法来整合所有的 reducer\n"),s("ul",[s("li",[t._v("combineReducers()方法的参数是一个对象，里面存放着所有的 reducer")])])])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("createStore, applyMiddleware, combineReducers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"redux"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" countReducer from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./reducers/count"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" personReducer from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./reducers/person"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" thunk from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"redux-thunk"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n// 汇总所有的 reducer\nconst allReducer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" combineReducers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    count: countReducer,\n    persons: personReducer,\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default createStore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("allReducer, applyMiddleware"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("thunk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[s("p",[t._v("因为 redux在设计上还有许多的问题，例如：")]),t._v(" "),s("ul",[s("li",[t._v("单个组件需要做：与 store打交道，获取数据，监听数据变化，派发 action对象等，一个组件负责的事情太多了。")]),t._v(" "),s("li",[t._v("需要另外监听 redux的状态变化来更新状态并渲染页面。")]),t._v(" "),s("li",[t._v("所以有人对 redux进行了优化，推出了另一个库 react-redux（放心，没啥不同，就是多了点优化，后面会讲）")])])]),t._v(" "),s("li",[s("p",[t._v("能不使用 redux，就不要使用 redux（不管是 redux 还是 react-redux）")])]),t._v(" "),s("li",[s("p",[t._v("能不使用 redux，就不要使用 redux（不管是 redux 还是 react-redux）")])]),t._v(" "),s("li",[s("p",[t._v("能不使用 redux，就不要使用 redux（不管是 redux 还是 react-redux）")])])]),t._v(" "),s("h3",{attrs:{id:"十一、了解与使用-react-redux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十一、了解与使用-react-redux"}},[t._v("#")]),t._v(" 十一、了解与使用 react-redux")]),t._v(" "),s("p",[t._v("前面也说了，react-redux 其实就是 redux的升级版，对许多地方进行了优化，但在学习他之前，需要我们进行一些对 redux的优化知识。")]),t._v(" "),s("img",{attrs:{src:a(486)}}),t._v(" "),s("h4",{attrs:{id:"_1-使用容器组件和ui组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-使用容器组件和ui组件"}},[t._v("#")]),t._v(" 1. 使用容器组件和UI组件")]),t._v(" "),s("p",[t._v("其目的就是为了把组件身上太多的活进行拆分，分为UI组件（内组件）和容器组件（外组件），两个组件之间使用 props进行通信，对 store那边的请求状态，更改状态的活交给容器组件来干，而通过状态来编写页面，更新渲染等活，就交给 UI组件来干。\n了解了这个后，就可以开始使用 react-redux了")]),t._v(" "),s("h4",{attrs:{id:"_2-安装-react-redux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装-react-redux"}},[t._v("#")]),t._v(" 2. 安装 react-redux")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i react-redux "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-S")]),t._v("\n")])])]),s("h4",{attrs:{id:"_3-创建文件夹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-创建文件夹"}},[t._v("#")]),t._v(" 3. 创建文件夹")]),t._v(" "),s("ul",[s("li",[t._v("对于容器组件，我们都是使用 containers文件夹进行存储。\n"),s("ul",[s("li",[t._v("containers ------ 用于存储容器组件的文件夹")]),t._v(" "),s("li",[t._v("redux ------ 用于存储 react-redux相关的文件夹")])])])]),t._v(" "),s("h4",{attrs:{id:"_4-创建容器组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-创建容器组件"}},[t._v("#")]),t._v(" 4. 创建容器组件")]),t._v(" "),s("p",[t._v("容器组件通过 react-redux的 connect() 方法进行创建。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// 引入 Count的 UI组件\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" Count from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../../components/Count"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n// 引入 connect用于连接 UI组件与 redux\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" connect "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-redux'")]),t._v("\n\n// 该函数的返回值作为状态传递给 UI组件\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" mapStateToProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        count: state,\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n// 该函数的返回值作为操作状态的方法传递给 UI组件\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" mapDispatchToProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dispatch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        add: "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default connect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mapStateToProps, mapDispatchToProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[t._v("使用 connect( )( )创建并暴露一个 Count组件的容器组件。")]),t._v(" "),s("li",[t._v("调用 connect时有两个参数，且必须时函数。\n"),s("ul",[s("li",[t._v("mapStateToProps( state ): 该函数的返回值会作为 状态 传递给 UI组件\n"),s("ul",[s("li",[t._v("state: 参数 state 为 react-redux 默认操作好的 store.getState()")])])]),t._v(" "),s("li",[t._v("mapDispatchToProps( dispatch ): 该函数的返回值会作为 操作状态的方法 传递给 UI组件，有语法糖写法，传入个对象即可（看下面代码）。\n"),s("ul",[s("li",[t._v("dispatch: 参数 dispatch 为 react-redux 默认给的 store.dispatch 方法\n这里只是为了讲解方便，使用时可以使用语法糖的。\n注意的几个地方：")])])])])])]),t._v(" "),s("p",[t._v("一般都是把 UI组件 与 容器组件 写在一个文件中，至于存在哪个文件夹中看公司需求（一般都是 containers）\n容器组件里的 store不是通过引入使用，而是作为 props传递给容器组件的标签的。"),s("code",[t._v("<Count store={store} />")]),t._v("\n语法糖写法：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// 引入 Count的 UI组件\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" Count from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../../components/Count"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n// 引入 connect用于连接 UI组件与 redux\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" connect "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-redux'")]),t._v("\n\n// 精简写法\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default connect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count: state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        add: "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),t._v(", data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"_5-provider-组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-provider-组件"}},[t._v("#")]),t._v(" 5. Provider 组件")]),t._v(" "),s("p",[t._v("如果你有许多个容器组件，那么每个容器组件都要传入 store，那么是不是觉得太繁琐了呢？所以 react-redux 提供了 Provider组件用于处理这个问题，只需要在根标签处使用并把 store传递进去，他就可以自动判断哪些组件需要使用 store并自动传递给它。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" React from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" ReactDOM from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-dom'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./index.css'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" App from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./App'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" store from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./redux/store"')]),t._v("\n// 优化3: 使用自带的 Provider自动判断哪些组件需要使用 store，从而自动导入\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Provider "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-redux"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nReactDOM.render"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Provider "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("store")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("App /"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Provider"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(",\n  document.getElementById"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"_6-监听状态变化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-监听状态变化"}},[t._v("#")]),t._v(" 6. 监听状态变化")]),t._v(" "),s("p",[t._v("有没有发现，我上面的代码已经没有再写 store.subscribe() 监听状态变化了，是因为我们创建容器组件的 connect已经帮我们进行监听了。")]),t._v(" "),s("h4",{attrs:{id:"_7-容器组件之间通信"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-容器组件之间通信"}},[t._v("#")]),t._v(" 7. 容器组件之间通信")]),t._v(" "),s("p",[t._v("其实这个很简单，还记的 connect的第一个函数的第一个参数吗？传递给 UI组件的是 props，他的参数是 state，这个 state是 store.getState()。\n可是此时你的 store.getState() 不再是一个单纯的值，而是所有 reducer的对象，所以我们可以在里面获取到其他容器组件的值。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default connect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count: state.count, personLength: state.persons.length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        increment: createIncrementAction,\n        decrement: createDecrementAction,\n        asyncIncrement: createIncrementAsyncAction,\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"_8-文件规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-文件规范"}},[t._v("#")]),t._v(" 8. 文件规范")]),t._v(" "),s("p",[t._v("创建了那么多东西，有的可以整合一下的，让我们来修整修整：")]),t._v(" "),s("ul",[s("li",[t._v("containers ------ 用于存放容器组件的文件夹（UI组件与容器组件写在一起）\n"),s("ul",[s("li",[t._v("Count.js ------ Count 的容器组件")]),t._v(" "),s("li",[t._v("Person.js ------ Person 的容器组件")])])]),t._v(" "),s("li",[t._v("redux ------ 用于存放 react-redux相关的文件夹\n"),s("ul",[s("li",[t._v("actions ------ 用于存放所有 action的文件夹\n"),s("ul",[s("li",[t._v("count.js ------ 用于存储 Count组件的 action")]),t._v(" "),s("li",[t._v("person.js ------ 用于存储 Person组件的 action")])])]),t._v(" "),s("li",[t._v("reducers ------ 用于存放所有 reducer的文件夹\n"),s("ul",[s("li",[t._v("count.js ------ 用于存储 Count组件的 reducer")]),t._v(" "),s("li",[t._v("person.js ------ 用于存储 Person组件的 reducer")]),t._v(" "),s("li",[t._v("index.js ------ 用于存储汇总的 reducer的文件（combineReducers()方法）")])])]),t._v(" "),s("li",[t._v("constant.js ------ 用于存储一些公用的命名的文件")]),t._v(" "),s("li",[t._v("store.js ------ react-redux的 store文件")])])])]),t._v(" "),s("h4",{attrs:{id:"_9-再说一遍-能不用就别用这东西"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-再说一遍-能不用就别用这东西"}},[t._v("#")]),t._v(" 9. 再说一遍，能不用就别用这东西！！")]),t._v(" "),s("h3",{attrs:{id:"十二、react16-8-与一些扩展"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十二、react16-8-与一些扩展"}},[t._v("#")]),t._v(" 十二、React16.8 与一些扩展")]),t._v(" "),s("h4",{attrs:{id:"_1-lazy-与-suspense"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-lazy-与-suspense"}},[t._v("#")]),t._v(" 1. lazy() 与 Suspense")]),t._v(" "),s("p",[t._v("之前的组件，都是一并加载的，这样会给服务器带来较大的负担，所以 react推出了 lazy()懒加载，进行组件的按需加载。\n与之一起出来的是 Suspense，他解决的是组件在加载过程中还没加载出来时的白屏，用于展示其他的内容。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" React, "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component, lazy, Suspense "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Route, Link"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-router-dom"')]),t._v("\n\n// "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" Home from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./Home"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n// "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" About from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./About"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" Loading from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./Loading"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n// lazy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 方法的参数是一个函数，返回需要加载的组件\nconst Home "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lazy"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("((")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("import"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v('".'),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v('Home"'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")])]),t._v("\nconst About "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" lazy"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("((")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("import"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v('".'),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v('About"'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default class index extends Component "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Home"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Link"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/about"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("About"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Link"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("hr/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("/* Suspense 用于解决加载组件时的白屏，可以显示其他的内容，而其他内容不允许使用 lazy加载 */"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Suspense "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("fallback")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Loading/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Route"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/about"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("About"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Route"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Suspense"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[t._v("lazy 的参数是一个函数，使用 import 导入一个组件并返回")]),t._v(" "),s("li",[t._v("Suspense 的属性 fallback属性的属性值是 组件标签 而不是组件")]),t._v(" "),s("li",[t._v("Suspense所使用的组件不能使用 lazy进行懒加载。")])]),t._v(" "),s("h4",{attrs:{id:"_2-hook"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-hook"}},[t._v("#")]),t._v(" 2. Hook")]),t._v(" "),s("p",[t._v("React16.8可以说是给函数式组件一次春天，因为他有了Hook，可以实现一些 state、生命周期函数，refs等特性。\n让我们一个个来看：")]),t._v(" "),s("h5",{attrs:{id:"_1-statehook"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-statehook"}},[t._v("#")]),t._v(" (1) stateHook")]),t._v(" "),s("p",[t._v("可以让函数式组件实现使用 state的特性：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("Demo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    // useState返回一个数组，只有两个元素（只有两个元素）\n    // 元素1 为状态，元素2 为更新状态的方法\n    // 第一次调用时以及将count进行底层存储，所以 Demo重复渲染不会重置count数据\n    const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count, setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React.useState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" // 初始值赋为 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name, setName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React.useState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Tom"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        // 进行状态赋值\n        // setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count + "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" // 写法1，直接将原来的状态值覆盖\n        setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" count+1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" // 写法2，参数为函数，接受原本的状态值，返回新的状态值，覆盖原来的状态\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("3")]),t._v(">")]),t._v("名字："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("3")]),t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("当前求和："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("add"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("点击加一"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("    \n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h5",{attrs:{id:"_2-effecthook"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-effecthook"}},[t._v("#")]),t._v(" (2) EffectHook")]),t._v(" "),s("p",[t._v("可以让函数式组件实现类似生命周期钩子的特性：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("Demo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count, setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React.useState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name, setName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React.useState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Tom"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" count+1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("updName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        setName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Jerry"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("unmount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        ReactDOM.unmountComponentAtNode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document.querySelector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#root"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    // useEffect接收两个参数，第一个为函数体，第二个为检测的对象"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("数组"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("，当检测的对象状态发生改变，就会触发函数\n    // 不填写第二参数时，检测所有元素，相当于 componentDidUpdate生命周期函数\n    React.useEffect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("((")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        // console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"asdf"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("let")]),t._v(" timer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" setInterval"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("((")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("count+1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",1000"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("        // 在 useEffect中的函数体里返回的函数，相当于 componentWillUnmount生命周期函数\n            console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unmount"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            clearInterval"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" // 数组为空是谁也不检测，只执行一次函数，相当于生命周期函数的 componentDidMount\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("当前求和："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("add"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("点击加一"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("当前名字："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("updName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("修改名字为Jerry"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("unmount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("卸载组件"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("可以把 useEffect Hook 看作三个函数的结合：")]),t._v(" "),s("ul",[s("li",[t._v("componentDidMount")]),t._v(" "),s("li",[t._v("componentDidUpdate")]),t._v(" "),s("li",[t._v("componentWillUnmount")])]),t._v(" "),s("h5",{attrs:{id:"_3-refhook"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-refhook"}},[t._v("#")]),t._v(" (3) refHook")]),t._v(" "),s("p",[t._v("refHook 可以让函数式组件实现类似 ref的特性")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("Demo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    const "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count, setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React.useState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" count+1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("show")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        // 获取文本框内容\n        alert"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myInput.current.value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    // 生成一个容器\n    const myInput "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React.useRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("当前求和："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("/* 绑定容器 */"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("myInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("add"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("点击加一"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("show"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("点击展示数据"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"_3-fragment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-fragment"}},[t._v("#")]),t._v(" 3. Fragment")]),t._v(" "),s("p",[t._v("在 react渲染组件的时候，当你的组件越来越多时，你有没有发现你的 DOM层级越来越多，有些不美观，所以就出现了 Fragment。\n可以使用 Fragment标签代替组件的根标签，在 React解析的时候会被处理掉，\n从而让生成出来的代码的层级更加简洁。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default class Demo extends Component "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            // 使用空标签可以达到一样的效果，但是空标签不允许包含任何的属性\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Fragment "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Fragment"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"_4-context"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-context"}},[t._v("#")]),t._v(" 4. Context")]),t._v(" "),s("p",[t._v("Context是一种新的组件通信方式，常用于【祖组件】和【后代组件】之间通信。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(". 创建一个 Context容器对象\nconst UserNameContext "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React.createContext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n// "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),t._v(" 拿到 Provider与 Consumer属性\nconst "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Provider, Consumer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" UserNameContext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default class A extends Component "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("state")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("username: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Tom"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("className")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("我是A组件"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("我的用户名是："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.state.username"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("/* "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" 使用组件，后代组件都能收到来自 value的值，就在 this上的 context属性上（需提前声明）  */"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Provider "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.state.username"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("B/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Provider"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nclass B extends Component "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    // "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(". 声明接受 Context\n    static contextType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" UserNameContext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   // 此方法只适用于 类组件\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("this.context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  // Tom\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("className")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"b"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("我是B组件"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("A的用户名是："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("C/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("C")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n             "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("className")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("3")]),t._v(">")]),t._v("我是C组件"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("3")]),t._v(">")]),t._v("         \n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("/* "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.2")]),t._v(" 使用 Consumer组件进行声明接受（类组件和函数式组件都可以）  */"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Consumer"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"A的用户名是："')]),t._v(" + value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Consumer"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n             "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"_5-purecomponent"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-purecomponent"}},[t._v("#")]),t._v(" 5. PureComponent")]),t._v(" "),s("p",[t._v("在组件中，只要执行了 setState()，即使没更新状态数据，组件也会重新 render()。\n只要组件重新 render()，就会自动重新 render()子组件，纵使子组件没有使用到父组件任何数据。\n这两种情况都会导致重复渲染，使得效率低下。\n效率高的做法：只有组件的state或props发生变化时菜重新render()。")]),t._v(" "),s("ul",[s("li",[t._v("解决方法1：通过生命周期函数 shouldComponentUpdate() 进行数据判断在进行重新渲染")]),t._v(" "),s("li",[t._v("解决方法2：类组件通过继承 PureComponent组件，自动进行数据判断（浅对比---判断地址值）（常用）")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" React, "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component, PureComponent "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default class Parent extends PureComponent "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("carName: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"奔驰"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    changeCar "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        this.setState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("carName:"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"迈巴赫"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    // shouldComponentUpdate有两个参数，分别是准备修改的 props和 state\n    // shouldComponentUp date"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nextProps, nextState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    //     console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nextProps, nextState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  // 目标要修改的props和state\n    //     console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("this.props, this.state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   // 还未修改原本的props和state\n    //     "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("this.state.carName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nextState.carName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    // "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"parent render"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("className")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"parent"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("Parent"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("我的车是："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.state.carName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.changeCar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("点击换车"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Child/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nclass Child extends PureComponent "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n    // shouldComponentUpdate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nextProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    //     "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("this.props.carName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nextProps.carName\n    // "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"child render"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("className")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"child"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("Child"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("/* "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("父亲的车是："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.props.carName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" */"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"_6-父子组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-父子组件"}},[t._v("#")]),t._v(" 6. 父子组件")]),t._v(" "),s("p",[t._v("不多说，直接上代码：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" React, "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component, PureComponent "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./index.css"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default class Parent extends PureComponent "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("carName: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"奔驰"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    changeCar "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        this.setState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("carName:"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"迈巴赫"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"parent render"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("className")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"parent"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("Parent"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("我的车是："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.state.carName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("/* A组件 与 B组件 形成父子组件的第二种方法 */"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("/* "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("A"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("B/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/A"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" */"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("/* 类似于 Vue的插槽 */"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("A "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("B "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("  \n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nclass A extends PureComponent "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"A render"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("className")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("A"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("/* A组件 与 B组件 形成父子组件的第一种方式 */"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("/* "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("B/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" */"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("/* "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.props.children"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" */"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.props.render"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Tom"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nclass B extends PureComponent "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"B render"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("className")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"b"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("B"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("this.props.name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"_7-errorboundary"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-errorboundary"}},[t._v("#")]),t._v(" 7. ErrorBoundary")]),t._v(" "),s("p",[t._v("当你的组件存在父子组件关系时，如果说你的子组件出现了错误，那么会导致父组件一并崩掉，那有没有什么办法，可以把错误控制在一个组件里，不让他扩散呢？\n答案是有的，有两个函数：")]),t._v(" "),s("ul",[s("li",[t._v("getDerivedStateFromError(error)")]),t._v(" "),s("li",[t._v("componentDidCatch(error, info)")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" React, "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component, Fragment "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" Child from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./Child"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n// 错误边界即把组件的错误信息控制在一个组件中，不使他扩散而导致程序崩溃\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default class Person extends Component "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        hasError: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(",   // 用于标识子组件是否产生错误\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    // 当子组件发生错误时会触发该生命周期函数，且参数为错误信息\n    // 只适用于生产环境，只能捕获后代组件生命周期产生的错误\n    static getDerivedStateFromError"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        // 一般用于处理错误出现时返回给用户展示的东西\n        console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"出错了"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    // 组件渲染过程中出错就会触发该生命周期函数\n    componentDidCatch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error, info"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        // 一般用于统计错误，反馈给雾浮起，用于通知程序员进行bug修改\n        console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"渲染组件出错"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console.log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error, info"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Fragment"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("我是Parent组件"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    this.state.hasError ? \n                        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("当前网络不大行，建议买高级网络套餐好吧"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/h"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Child/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("                \n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/Fragment"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"_8-组件通信方式总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-组件通信方式总结"}},[t._v("#")]),t._v(" 8. 组件通信方式总结")]),t._v(" "),s("ul",[s("li",[t._v("组件之间的关系：\n"),s("ul",[s("li",[t._v("父子组件")]),t._v(" "),s("li",[t._v("兄弟组件")]),t._v(" "),s("li",[t._v("祖孙组件（跨级组件）")])])]),t._v(" "),s("li",[t._v("几种通信方式：\n"),s("ul",[s("li",[t._v("props\n"),s("ul",[s("li",[t._v("children props")]),t._v(" "),s("li",[t._v("render props")])])]),t._v(" "),s("li",[t._v("消息订阅 pubsub, event")]),t._v(" "),s("li",[t._v("集中式管理 redux, dva, react-redux")]),t._v(" "),s("li",[t._v("conText 生产者， 消费者模式")])])]),t._v(" "),s("li",[t._v("较好的搭配方式：\n"),s("ul",[s("li",[t._v("父子组件：props")]),t._v(" "),s("li",[t._v("兄弟组件： 消息订阅发布，集中式管理")]),t._v(" "),s("li",[t._v("祖孙组件：消息订阅发布，集中式管理，conText")])])])])])}),[],!1,null,null,null);s.default=r.exports}}]);