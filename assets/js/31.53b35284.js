(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{547:function(t,s,a){t.exports=a.p+"assets/img/01.cce704b0.png"},548:function(t,s,a){t.exports=a.p+"assets/img/02.c8be0010.png"},549:function(t,s,a){t.exports=a.p+"assets/img/03.dfc46d25.png"},550:function(t,s,a){t.exports=a.p+"assets/img/04.cf99522b.png"},551:function(t,s,a){t.exports=a.p+"assets/img/05.ed538419.png"},552:function(t,s,a){t.exports=a.p+"assets/img/06.8ef1b17b.png"},553:function(t,s){t.exports="data:image/png;base64,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"},554:function(t,s,a){t.exports=a.p+"assets/img/07.2e17a8c8.png"},555:function(t,s,a){t.exports=a.p+"assets/img/08.4fbccf8a.png"},556:function(t,s,a){t.exports=a.p+"assets/img/10.376c1045.png"},678:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("vue2脚手架目前使用的是webpack3, 基于脚手架升级到webpack4")]),t._v(" "),s("h2",{attrs:{id:"_1-常规安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-常规安装"}},[t._v("#")]),t._v(" 1.常规安装")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-g")]),t._v(" vue-cli\nvue init webpack demo\n")])])]),s("h2",{attrs:{id:"_2-webpack升级到webpack4版本-安装webpack-cli等插件。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-webpack升级到webpack4版本-安装webpack-cli等插件。"}},[t._v("#")]),t._v(" 2.webpack升级到webpack4版本，安装webpack-cli等插件。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^4.8.1"')]),t._v(",\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack-cli"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^2.1.3"')]),t._v("\n")])])]),s("h2",{attrs:{id:"_3-npm-run-dev-报错"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-npm-run-dev-报错"}},[t._v("#")]),t._v(" 3.npm run dev 报错")]),t._v(" "),s("p",[s("img",{attrs:{src:a(547),alt:""}})]),t._v(" "),s("p",[t._v("这个是因为 webpack 和 webpack-dev-server 版本不兼容导致的，升级一下就好了")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack-dev-server"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^3.1.4"')]),t._v(",\n")])])]),s("h2",{attrs:{id:"_4-再次启动-报错"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-再次启动-报错"}},[t._v("#")]),t._v(" 4.再次启动，报错")]),t._v(" "),s("p",[s("img",{attrs:{src:a(548),alt:""}})]),t._v(" "),s("p",[t._v("这里是因为 html-webpack-plugin 版本不兼容导致的,更新下版本")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"html-webpack-plugin"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^3.2.0"')]),t._v(",\n")])])]),s("h2",{attrs:{id:"_5-然后再次启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-然后再次启动"}},[t._v("#")]),t._v(" 5.然后再次启动")]),t._v(" "),s("p",[s("img",{attrs:{src:a(549),alt:""}})]),t._v(" "),s("h2",{attrs:{id:"_6-升级一下-eslint-和-eslint-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-升级一下-eslint-和-eslint-loader"}},[t._v("#")]),t._v(" 6.升级一下 eslint 和 eslint-loader")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^4.19.1"')]),t._v(",\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint-loader"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^2.0.0"')]),t._v(",\n")])])]),s("h2",{attrs:{id:"_7-继续"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-继续"}},[t._v("#")]),t._v(" 7.继续")]),t._v(" "),s("p",[s("img",{attrs:{src:a(550),alt:""}})]),t._v(" "),s("h2",{attrs:{id:"_8-升级-vue-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-升级-vue-loader"}},[t._v("#")]),t._v(" 8.升级 vue-loader")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue-loader"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^15.0.10"')]),t._v("\n")])])]),s("h2",{attrs:{id:"_9-这里再次运行报错会很多"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-这里再次运行报错会很多"}},[t._v("#")]),t._v(" 9.这里再次运行报错会很多")]),t._v(" "),s("p",[s("img",{attrs:{src:a(551),alt:""}})]),t._v(" "),s("h2",{attrs:{id:"_10-这里是因为最新版的-vue-loader-需要加一个新的配置-vueloaderplugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-这里是因为最新版的-vue-loader-需要加一个新的配置-vueloaderplugin"}},[t._v("#")]),t._v(" 10.这里是因为最新版的 vue-loader 需要加一个新的配置 VueLoaderPlugin")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// webpack.dev.conf.js\n// 引入\nconst "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" VueLoaderPlugin "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue-loader'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n// 在下面的插件中加入\nplugins: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n    new VueLoaderPlugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n\n// webpack.prod.conf.js 文件同样\n// 引入\nconst "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" VueLoaderPlugin "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue-loader'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n// 在下面的插件中加入\nplugins: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n    new VueLoaderPlugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("h2",{attrs:{id:"_11-再次运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_11-再次运行"}},[t._v("#")]),t._v(" 11.再次运行")]),t._v(" "),s("p",[s("img",{attrs:{src:a(552),alt:""}})]),t._v(" "),s("h2",{attrs:{id:"_12-webpack4-需要指定打包的模式-mode-指定一下就好-可以在-package-json-的命令中指定-也可以写入配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-webpack4-需要指定打包的模式-mode-指定一下就好-可以在-package-json-的命令中指定-也可以写入配置"}},[t._v("#")]),t._v(" 12.webpack4 需要指定打包的模式 (mode)，指定一下就好，可以在 package.json 的命令中指定，也可以写入配置")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// webpack.dev.conf.js\nconst webpackConfig "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" merge"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("baseWebpackConfig, "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    mode: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'development'")]),t._v(",\n    module: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n// webpack.prod.conf.js \nconst webpackConfig "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" merge"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("baseWebpackConfig, "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    mode: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'production'")]),t._v(",\n    module: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"_13-然后再次运行-npm-run-dev"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-然后再次运行-npm-run-dev"}},[t._v("#")]),t._v(" 13.然后再次运行 npm run dev")]),t._v(" "),s("p",[s("img",{attrs:{src:a(553),alt:""}})]),t._v(" "),s("p",[t._v("完全没有错误提示，至此， dev 环境的升级就完成了。")]),t._v(" "),s("h2",{attrs:{id:"_14-然而-运行-npm-run-build-后。。。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_14-然而-运行-npm-run-build-后。。。"}},[t._v("#")]),t._v(" 14.然而，运行 npm run build 后。。。")]),t._v(" "),s("p",[s("img",{attrs:{src:a(554),alt:""}})]),t._v(" "),s("p",[t._v("熟悉的界面又出现了，")]),t._v(" "),s("p",[t._v("这部分错误是因为 webpack.optimize.CommonsChunkPlugin 已经被弃用，需要使用新的配置 config.optimization.splitChunks")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// webpack.prod.conf.js\n// 在 plugins 同级下添加配置\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\noptimization: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   splitChunks: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     cacheGroups: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       vendor: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         test: /"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("node_modules"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("/,\n         name: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vendor'")]),t._v(",\n         chunks: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'all'")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n       manifest: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         name: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'manifest'")]),t._v(",\n         minChunks: Infinity\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n plugins: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n// 去掉 plugins 中的这部分代码\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nnew webpack.optimize.CommonsChunkPlugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   name: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vendor'")]),t._v(",\n   minChunks "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     // any required modules inside node_modules are extracted to vendor\n     "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n       module.resource "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n       /"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v(".js$/.test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("module.resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n       module.resource.indexOf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n         path.join"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname, "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../node_modules'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n // extract webpack runtime and module manifest to its own "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" order to\n // prevent vendor "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("hash")]),t._v(" from being updated whenever app bundle is updated\n new webpack.optimize.CommonsChunkPlugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   name: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'manifest'")]),t._v(",\n   minChunks: Infinity\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n // This instance extracts shared chunks from code splitted chunks and bundles them\n // "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" a separate chunk, similar to the vendor chunk\n // see: https://webpack.js.org/plugins/commons-chunk-plugin/"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#extra-async-commons-chunk")]),t._v("\n new webpack.optimize.CommonsChunkPlugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   name: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'app'")]),t._v(",\n   async: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vendor-async'")]),t._v(",\n   children: true,\n   minChunks: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])])]),s("h2",{attrs:{id:"_15-再次打包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_15-再次打包"}},[t._v("#")]),t._v(" 15.再次打包")]),t._v(" "),s("p",[s("img",{attrs:{src:a(555),alt:""}})]),t._v(" "),s("p",[t._v("这里是因为官方已经不推荐使用 extract-text-webpack-plugin 提取 css 样式，可以使用 mini-css-extract-plugin 替代")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// 首先安装 "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mini-css-extract-plugin"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^0.4.0"')]),t._v(",\n// 并且去掉 package.json 中的包 "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"extract-text-webpack-plugin"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^4.0.0-beta.0"')]),t._v(",\n\n// utils.js\n// 去掉 extract-text-webpack-plugin\n// const ExtractTextPlugin "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'extract-text-webpack-plugin'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n// 引入\nconst MiniCssExtractPlugin "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mini-css-extract-plugin'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ngenerateLoaders 函数更改配置（*中间的为改动部分）\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options.extract"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n// ********************\n// 改动在这里\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("MiniCssExtractPlugin.loader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(".concat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("loaders"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n// ********************\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue-style-loader'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(".concat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("loaders"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n// webpack.prod.conf.js\n\n// 去掉 extract-text-webpack-plugin\n// const ExtractTextPlugin "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'extract-text-webpack-plugin'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n// 引入\nconst MiniCssExtractPlugin "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mini-css-extract-plugin'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n// 去掉 plugins 里的配置\nnew ExtractTextPlugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   filename: utils.assetsPath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'css/[name].[contenthash].css'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n   allChunks: true,\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n\n// 然后加入新的插件配置\nnew MiniCssExtractPlugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   filename: utils.assetsPath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'css/[name].[contenthash:12].css'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n   allChunks: true,\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(",\n")])])]),s("h2",{attrs:{id:"_16-再次打包就可以运行了"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_16-再次打包就可以运行了"}},[t._v("#")]),t._v(" 16.再次打包就可以运行了")]),t._v(" "),s("p",[s("img",{attrs:{src:a(556),alt:""}})]),t._v(" "),s("p",[t._v("到此 webpack4 已经升级成功了。")])])}),[],!1,null,null,null);s.default=e.exports}}]);