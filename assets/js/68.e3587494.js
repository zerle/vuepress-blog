(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{675:function(s,a,t){"use strict";t.r(a);var n=t(2),r=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("我们在开发单页面应用时，有时需要进入某个路由后基于参数从服务器获取数据，那么我们首先要获取路由传递过来的参数，从而完成服务器请求，所以，我们需要了解路由传参的几种方式")]),s._v(" "),a("h2",{attrs:{id:"编程式路由传参"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编程式路由传参"}},[s._v("#")]),s._v(" 编程式路由传参")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("除了使用 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("router-link"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 创建 a 标签来定义导航链接，我们还可以借助 router 的实例方法，通过编写代码来实现。\n")])])]),a("h3",{attrs:{id:"_1-通过-params-传递"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-通过-params-传递"}},[s._v("#")]),s._v(" 1.通过 params 传递")]),s._v(" "),a("h4",{attrs:{id:"路由配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由配置"}},[s._v("#")]),s._v(" 路由配置")]),s._v(" "),a("p",[s._v("路径参数 用冒号 : 表示。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("const routes "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  // 动态段以冒号开始\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" path: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'details/:id'")]),s._v(", name: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"details"')]),s._v(", component: Details "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("p",[s._v("router.push() 方法的参数可以是一个字符串路径，或者一个描述地址的对象。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("const Home "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  template: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<div @click=\"toDetails\">To Details</div>'")]),s._v(",\n  metheds: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("toDetails")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      // 字符串路径\n      this."),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$router")]),s._v(".push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/details/001'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      // 带有路径的对象\n      this."),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$router")]),s._v(".push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("path: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/details/001'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      // 命名路由，路由配置时，需要 name 字段\n      this."),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$router")]),s._v(".push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'details'")]),s._v(", params: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" id: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'001'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("注意，如果提供了 path，params 会被忽略：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("// "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("params"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" 不能与 "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("path"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" 一起使用\nrouter.push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" path: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/details'")]),s._v(", params: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" id: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'001'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" // -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /details\n")])])]),a("h4",{attrs:{id:"组件获取数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件获取数据"}},[s._v("#")]),s._v(" 组件获取数据")]),s._v(" "),a("p",[s._v("当一个路由被匹配时，它的 params 的值将在每个组件中以 this.$route.params 的形式暴露出来。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("const Details "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  template: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<div>Details {{ $route.params.id }} </div>'")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("created")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    // 监听路由变化\n    this."),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$watch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" this."),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$route")]),s._v(".params,\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("toParams, previousParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        // 对路由变化做出响应"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h3",{attrs:{id:"_2-通过-query-传递"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-通过-query-传递"}},[s._v("#")]),s._v(" 2.通过 query 传递")]),s._v(" "),a("p",[s._v("这种情况下 query （查询参数）传递的参数会显示在 url 后面，如：/details/001?kind=car。")]),s._v(" "),a("h4",{attrs:{id:"路由配置-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由配置-2"}},[s._v("#")]),s._v(" 路由配置")]),s._v(" "),a("p",[s._v("使用 query 时，以下三种方式都是可行的：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("this."),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$router")]),s._v(".push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/details/001?kind=car'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("this."),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$router")]),s._v(".push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" path: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/details/001'")]),s._v(", query: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" kind: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"car"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("this."),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$router")]),s._v(".push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'details'")]),s._v(", params: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" id: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'001'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(", query: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" kind: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'car'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h4",{attrs:{id:"组件获取数据-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件获取数据-2"}},[s._v("#")]),s._v(" 组件获取数据")]),s._v(" "),a("p",[s._v("组件通过 $route.query 获取：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("const Details "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  template: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<div>Details {{ $route.query.kind }} </div>'")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("created")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    // 监听路由变化\n    this."),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$watch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" this."),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$route")]),s._v(".query,\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("toParams, previousParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        // 对路由变化做出响应"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("要对同一个组件中参数的变化做出响应的话，你可以简单地 watch $route 对象上的任意属性，在这个场景中，就是 $route.query 。")]),s._v(" "),a("h3",{attrs:{id:"_3-通过-hash-传递"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-通过-hash-传递"}},[s._v("#")]),s._v(" 3.通过 hash 传递")]),s._v(" "),a("p",[s._v("通过此方式，url 路径中带有 hash，例如：/details/001#car。")]),s._v(" "),a("h4",{attrs:{id:"路由配置-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由配置-3"}},[s._v("#")]),s._v(" 路由配置")]),s._v(" "),a("p",[s._v("使用 hash 时，以下三种方式都是可行的（同 query）：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("this."),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$router")]),s._v(".push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/details/001#car'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("this."),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$router")]),s._v(".push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" path: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/details/001'")]),s._v(", hash: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'#car'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("this."),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$router")]),s._v(".push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'details'")]),s._v(", params: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" id: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'001'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(", hash: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'car'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h4",{attrs:{id:"组件获取数据-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件获取数据-3"}},[s._v("#")]),s._v(" 组件获取数据")]),s._v(" "),a("p",[s._v("组件通过 $route.hash.slice(1) 获取：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("const Details "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  template: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<div>Details {{ $route.hash.slice(1) }} </div>'")]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h2",{attrs:{id:"通过-props-进行传递"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过-props-进行传递"}},[s._v("#")]),s._v(" 通过 props 进行传递")]),s._v(" "),a("p",[s._v("在组件中使用 $route 会与路由紧密耦合，这限制了组件的灵活性，因为它只能用于特定的 URL。虽然这不一定是件坏事，但我们可以通过 props 配置来解除这种行为。")]),s._v(" "),a("p",[s._v("以解耦的方式使用 props 进行参数传递，主要是在路由配置中进行操作。")]),s._v(" "),a("h3",{attrs:{id:"_1-布尔模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-布尔模式"}},[s._v("#")]),s._v(" 1.布尔模式")]),s._v(" "),a("p",[s._v("当 props 设置为 true 时，route.params 将被设置为组件的 props。")]),s._v(" "),a("p",[s._v("例如下面的代码是通过 $route 的方式获取动态字段 id：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("const User "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  template: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<div>User {{ $route.params.id }}</div>'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nconst routes "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" path: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/user/:id'")]),s._v(", component: User "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("p",[s._v("将上面的代码替换成 props 的形式，如下：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("const User "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  props: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", // 组件中通过 props 获取 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\n  template: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<div>User {{ id }}</div>'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n// 路由配置中，增加 props 字段，并将值 设置为 "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\nconst routes "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" path: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/user/:id'")]),s._v(", component: User, props: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("p",[s._v("注意：对于有命名视图的路由，你必须为每个命名视图定义 props 配置：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("const routes "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    path: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/user/:id'")]),s._v(",\n    components: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" default: User, sidebar: Sidebar "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n    // 为 User 提供 props\n    props: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" default: true, sidebar: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("h3",{attrs:{id:"_2-对象模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-对象模式"}},[s._v("#")]),s._v(" 2. 对象模式")]),s._v(" "),a("p",[s._v("当 props 是一个对象时，它将原样设置为组件 props。当 props 是静态的时候很有用。")]),s._v(" "),a("h4",{attrs:{id:"路由配置-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由配置-4"}},[s._v("#")]),s._v(" 路由配置")]),s._v(" "),a("p",[s._v("const routes = [\n{\npath: '/hello',\ncomponent: Hello,\nprops: { name: 'World' }\n}\n]")]),s._v(" "),a("h4",{attrs:{id:"组件中获取数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件中获取数据"}},[s._v("#")]),s._v(" 组件中获取数据")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("const Hello "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  props: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    name: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      type: String,\n      default: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Vue'")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n  template: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<div> Hello {{ name }}</div>'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),s._v(" //> 组件默认显示 Hello Vue，但路由配置了 props 对象，当路由跳转到 /hello 时，会显示传递过来的 name， 页面会显示为 Hello World。\n"),a("h3",{attrs:{id:"_3-函数模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-函数模式"}},[s._v("#")]),s._v(" 3.函数模式")]),s._v(" "),a("p",[s._v("可以创建一个返回 props 的函数。这允许你将参数转换为其他类型，将静态值与基于路由的值相结合等等。")]),s._v(" "),a("h4",{attrs:{id:"路由配置-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由配置-5"}},[s._v("#")]),s._v(" 路由配置")]),s._v(" "),a("p",[s._v("使用函数模式时，返回 props 的函数接受的参数为路由记录 route。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("// 创建一个返回 props 的函数\nconst dynamicPropsFn "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("route"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name: route.query.say + "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"!"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nconst routes "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    path: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/hello'")]),s._v(",\n    component: Hello,\n    props: dynamicPropsFn\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("h4",{attrs:{id:"组件获取数据-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件获取数据-4"}},[s._v("#")]),s._v(" 组件获取数据")]),s._v(" "),a("p",[s._v("当 URL 为 /hello?say=World 时， 将传递 {name: 'World!'} 作为 props 传给 Hello 组件。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("const Hello "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  props: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    name: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      type: String,\n      default: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Vue'")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n  template: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<div> Hello {{ name }}</div>'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("此时页面将渲染：")]),s._v(" "),a("p",[s._v("hello world!")]),s._v(" "),a("p",[s._v("注意：请尽可能保持 props 函数为无状态的，因为它只会在路由发生变化时起作用。如果你需要状态来定义 props，请使用包装组件，这样 vue 才可以对状态变化做出反应。")]),s._v(" "),a("h2",{attrs:{id:"其他方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他方式"}},[s._v("#")]),s._v(" 其他方式")]),s._v(" "),a("h3",{attrs:{id:"_1-通过-vuex-进行传递"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-通过-vuex-进行传递"}},[s._v("#")]),s._v(" 1. 通过 Vuex 进行传递")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". store 存储状态；\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(". A 组件更改 store 中的状态；\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(". B 组件从 store 中获取。\n")])])]),a("h3",{attrs:{id:"_2-通过前端本地存储等方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-通过前端本地存储等方式"}},[s._v("#")]),s._v(" 2. 通过前端本地存储等方式")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". Local Storage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(". Session Storage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(". IndexedDB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(". Web SQL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(". Cookies。\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);